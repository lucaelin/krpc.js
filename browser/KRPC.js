var t=WebSocket,e=void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},r=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n="object"==typeof r&&r&&r.Object===Object&&r,i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")(),u=o.Symbol,a=Object.prototype,s=a.hasOwnProperty,c=a.toString,f=u?u.toStringTag:void 0;var l=Object.prototype.toString;var h=u?u.toStringTag:void 0;function p(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=s.call(t,f),r=t[f];try{t[f]=void 0;var n=!0}catch(t){}var i=c.call(t);return n&&(e?t[f]=r:delete t[f]),i}(t):function(t){return l.call(t)}(t)}function d(t){return null!=t&&"object"==typeof t}function v(t){return"symbol"==typeof t||d(t)&&"[object Symbol]"==p(t)}function y(t){return"number"==typeof t?t:v(t)?NaN:+t}function g(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var _=Array.isArray,m=u?u.prototype:void 0,b=m?m.toString:void 0;function w(t){if("string"==typeof t)return t;if(_(t))return g(t,w)+"";if(v(t))return b?b.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function E(t,e){return function(r,n){var i;if(void 0===r&&void 0===n)return e;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=w(r),n=w(n)):(r=y(r),n=y(n)),i=t(r,n)}return i}}var j=E((function(t,e){return t+e}),0),S=/\s/;function A(t){for(var e=t.length;e--&&S.test(t.charAt(e)););return e}var R=/^\s+/;function x(t){return t?t.slice(0,A(t)+1).replace(R,""):t}function O(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var I=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,P=/^0o[0-7]+$/i,T=parseInt;function C(t){if("number"==typeof t)return t;if(v(t))return NaN;if(O(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=O(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=x(t);var r=k.test(t);return r||P.test(t)?T(t.slice(2),r?2:8):I.test(t)?NaN:+t}function M(t){return t?Infinity===(t=C(t))||-Infinity===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function B(t){var e=M(t),r=e%1;return e==e?r?e-r:e:0}function U(t){return t}function L(t){if(!O(t))return!1;var e=p(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var W,D=o["__core-js_shared__"],N=(W=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"";var z=Function.prototype.toString;function F(t){if(null!=t){try{return z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Y=/^\[object .+?Constructor\]$/,q=Function.prototype,K=Object.prototype,$=q.toString,V=K.hasOwnProperty,G=RegExp("^"+$.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z(t){return!(!O(t)||function(t){return!!N&&N in t}(t))&&(L(t)?G:Y).test(F(t))}function H(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Z(r)?r:void 0}var J=H(o,"WeakMap"),Q=J&&new J,X=Q?function(t,e){return Q.set(t,e),t}:U,tt=Object.create,et=function(){function t(){}return function(e){if(!O(e))return{};if(tt)return tt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function rt(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=et(t.prototype),n=t.apply(r,e);return O(n)?n:r}}function nt(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var it=Math.max;function ot(t,e,r,n){for(var i=-1,o=t.length,u=r.length,a=-1,s=e.length,c=it(o-u,0),f=Array(s+c),l=!n;++a<s;)f[a]=e[a];for(;++i<u;)(l||i<o)&&(f[r[i]]=t[i]);for(;c--;)f[a++]=t[i++];return f}var ut=Math.max;function at(t,e,r,n){for(var i=-1,o=t.length,u=-1,a=r.length,s=-1,c=e.length,f=ut(o-a,0),l=Array(f+c),h=!n;++i<f;)l[i]=t[i];for(var p=i;++s<c;)l[p+s]=e[s];for(;++u<a;)(h||i<o)&&(l[p+r[u]]=t[i++]);return l}function st(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}function ct(){}function ft(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function lt(){}ft.prototype=et(ct.prototype),ft.prototype.constructor=ft;var ht=Q?function(t){return Q.get(t)}:lt,pt={},dt=Object.prototype.hasOwnProperty;function vt(t){for(var e=t.name+"",r=pt[e],n=dt.call(pt,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function yt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function gt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function _t(t){if(t instanceof ft)return t.clone();var e=new yt(t.__wrapped__,t.__chain__);return e.__actions__=gt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}yt.prototype=et(ct.prototype),yt.prototype.constructor=yt;var mt=Object.prototype.hasOwnProperty;function bt(t){if(d(t)&&!_(t)&&!(t instanceof ft)){if(t instanceof yt)return t;if(mt.call(t,"__wrapped__"))return _t(t)}return new yt(t)}function wt(t){var e=vt(t),r=bt[e];if("function"!=typeof r||!(e in ft.prototype))return!1;if(t===r)return!0;var n=ht(r);return!!n&&t===n[0]}bt.prototype=ct.prototype,bt.prototype.constructor=bt;var Et=Date.now;function jt(t){var e=0,r=0;return function(){var n=Et(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var St=jt(X),At=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /;var xt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Ot(t){return function(){return t}}var It=function(){try{var t=H(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),kt=jt(It?function(t,e){return It(t,"toString",{configurable:!0,enumerable:!1,value:Ot(e),writable:!0})}:U);function Pt(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Tt(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ct(t){return t!=t}function Mt(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Tt(t,Ct,r)}function Bt(t,e){return!!(null==t?0:t.length)&&Mt(t,e,0)>-1}var Ut=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Lt(t,e,r){var n=e+"";return kt(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(xt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Pt(Ut,(function(r){var n="_."+r[0];e&r[1]&&!Bt(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(At);return e?e[1].split(Rt):[]}(n),r)))}function Wt(t,e,r,n,i,o,u,a,s,c){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var l=[t,e,i,f?o:void 0,f?u:void 0,f?void 0:o,f?void 0:u,a,s,c],h=r.apply(void 0,l);return wt(t)&&St(h,l),h.placeholder=n,Lt(h,t,e)}function Dt(t){return t.placeholder}var Nt=/^(?:0|[1-9]\d*)$/;function zt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Nt.test(t))&&t>-1&&t%1==0&&t<e}var Ft=Math.min;function Yt(t,e){for(var r=t.length,n=Ft(e.length,r),i=gt(t);n--;){var o=e[n];t[n]=zt(o,r)?i[o]:void 0}return t}function qt(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var u=t[r];u!==e&&"__lodash_placeholder__"!==u||(t[r]="__lodash_placeholder__",o[i++]=r)}return o}function Kt(t,e,r,n,i,u,a,s,c,f){var l=128&e,h=1&e,p=2&e,d=24&e,v=512&e,y=p?void 0:rt(t);return function g(){for(var _=arguments.length,m=Array(_),b=_;b--;)m[b]=arguments[b];if(d)var w=Dt(g),E=st(m,w);if(n&&(m=ot(m,n,i,d)),u&&(m=at(m,u,a,d)),_-=E,d&&_<f){var j=qt(m,w);return Wt(t,e,Kt,g.placeholder,r,m,j,s,c,f-_)}var S=h?r:this,A=p?S[t]:t;return _=m.length,s?m=Yt(m,s):v&&_>1&&m.reverse(),l&&c<_&&(m.length=c),this&&this!==o&&this instanceof g&&(A=y||rt(A)),A.apply(S,m)}}var $t=Math.min;var Vt=Math.max;function Gt(t,e,r,n,i,u,a,s){var c=2&e;if(!c&&"function"!=typeof t)throw new TypeError("Expected a function");var f=n?n.length:0;if(f||(e&=-97,n=i=void 0),a=void 0===a?a:Vt(B(a),0),s=void 0===s?s:B(s),f-=i?i.length:0,64&e){var l=n,h=i;n=i=void 0}var p=c?void 0:ht(t),d=[t,e,r,n,i,l,h,u,a,s];if(p&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,u=128==n&&8==r||128==n&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!u)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var a=e[3];if(a){var s=t[3];t[3]=s?ot(s,a,e[4]):a,t[4]=s?qt(t[3],"__lodash_placeholder__"):e[4]}(a=e[5])&&(s=t[5],t[5]=s?at(s,a,e[6]):a,t[6]=s?qt(t[5],"__lodash_placeholder__"):e[6]),(a=e[7])&&(t[7]=a),128&n&&(t[8]=null==t[8]?e[8]:$t(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(d,p),t=d[0],e=d[1],r=d[2],n=d[3],i=d[4],!(s=d[9]=void 0===d[9]?c?0:t.length:Vt(d[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,r){var n=rt(t);return function i(){for(var u=arguments.length,a=Array(u),s=u,c=Dt(i);s--;)a[s]=arguments[s];var f=u<3&&a[0]!==c&&a[u-1]!==c?[]:qt(a,c);return(u-=f.length)<r?Wt(t,e,Kt,i.placeholder,void 0,a,f,void 0,void 0,r-u):nt(this&&this!==o&&this instanceof i?n:t,this,a)}}(t,e,s):32!=e&&33!=e||i.length?Kt.apply(void 0,d):function(t,e,r,n){var i=1&e,u=rt(t);return function e(){for(var a=-1,s=arguments.length,c=-1,f=n.length,l=Array(f+s),h=this&&this!==o&&this instanceof e?u:t;++c<f;)l[c]=n[c];for(;s--;)l[c++]=arguments[++a];return nt(h,i?r:this,l)}}(t,e,r,n);else var v=function(t,e,r){var n=1&e,i=rt(t);return function e(){return(this&&this!==o&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Lt((p?X:St)(v,d),t,e)}function Zt(t,e,r){return e=r?void 0:e,Gt(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function Ht(t,e,r){"__proto__"==e&&It?It(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Jt(t,e){return t===e||t!=t&&e!=e}var Qt=Object.prototype.hasOwnProperty;function Xt(t,e,r){var n=t[e];Qt.call(t,e)&&Jt(n,r)&&(void 0!==r||e in t)||Ht(t,e,r)}function te(t,e,r,n){var i=!r;r||(r={});for(var o=-1,u=e.length;++o<u;){var a=e[o],s=n?n(r[a],t[a],a,r,t):void 0;void 0===s&&(s=t[a]),i?Ht(r,a,s):Xt(r,a,s)}return r}var ee=Math.max;function re(t,e,r){return e=ee(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=ee(n.length-e,0),u=Array(o);++i<o;)u[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(u),nt(t,this,a)}}function ne(t,e){return kt(re(t,e,U),t+"")}function ie(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function oe(t){return null!=t&&ie(t.length)&&!L(t)}function ue(t,e,r){if(!O(r))return!1;var n=typeof e;return!!("number"==n?oe(r)&&zt(e,r.length):"string"==n&&e in r)&&Jt(r[e],t)}function ae(t){return ne((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,u&&ue(r[0],r[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e}))}var se=Object.prototype;function ce(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function fe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function le(t){return d(t)&&"[object Arguments]"==p(t)}var he=Object.prototype,pe=he.hasOwnProperty,de=he.propertyIsEnumerable,ve=le(function(){return arguments}())?le:function(t){return d(t)&&pe.call(t,"callee")&&!de.call(t,"callee")};function ye(){return!1}var ge="object"==typeof exports&&exports&&!exports.nodeType&&exports,_e=ge&&"object"==typeof module&&module&&!module.nodeType&&module,me=_e&&_e.exports===ge?o.Buffer:void 0,be=(me?me.isBuffer:void 0)||ye,we={};function Ee(t){return function(e){return t(e)}}we["[object Float32Array]"]=we["[object Float64Array]"]=we["[object Int8Array]"]=we["[object Int16Array]"]=we["[object Int32Array]"]=we["[object Uint8Array]"]=we["[object Uint8ClampedArray]"]=we["[object Uint16Array]"]=we["[object Uint32Array]"]=!0,we["[object Arguments]"]=we["[object Array]"]=we["[object ArrayBuffer]"]=we["[object Boolean]"]=we["[object DataView]"]=we["[object Date]"]=we["[object Error]"]=we["[object Function]"]=we["[object Map]"]=we["[object Number]"]=we["[object Object]"]=we["[object RegExp]"]=we["[object Set]"]=we["[object String]"]=we["[object WeakMap]"]=!1;var je="object"==typeof exports&&exports&&!exports.nodeType&&exports,Se=je&&"object"==typeof module&&module&&!module.nodeType&&module,Ae=Se&&Se.exports===je&&n.process,Re=function(){try{var t=Se&&Se.require&&Se.require("util").types;return t||Ae&&Ae.binding&&Ae.binding("util")}catch(t){}}(),xe=Re&&Re.isTypedArray,Oe=xe?Ee(xe):function(t){return d(t)&&ie(t.length)&&!!we[p(t)]},Ie=Object.prototype.hasOwnProperty;function ke(t,e){var r=_(t),n=!r&&ve(t),i=!r&&!n&&be(t),o=!r&&!n&&!i&&Oe(t),u=r||n||i||o,a=u?fe(t.length,String):[],s=a.length;for(var c in t)!e&&!Ie.call(t,c)||u&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zt(c,s))||a.push(c);return a}function Pe(t,e){return function(r){return t(e(r))}}var Te=Pe(Object.keys,Object),Ce=Object.prototype.hasOwnProperty;function Me(t){if(!ce(t))return Te(t);var e=[];for(var r in Object(t))Ce.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Be(t){return oe(t)?ke(t):Me(t)}var Ue=Object.prototype.hasOwnProperty,Le=ae((function(t,e){if(ce(e)||oe(e))te(e,Be(e),t);else for(var r in e)Ue.call(e,r)&&Xt(t,r,e[r])}));var We=Object.prototype.hasOwnProperty;function De(t){if(!O(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=ce(t),r=[];for(var n in t)("constructor"!=n||!e&&We.call(t,n))&&r.push(n);return r}function Ne(t){return oe(t)?ke(t,!0):De(t)}var ze=ae((function(t,e){te(e,Ne(e),t)})),Fe=ae((function(t,e,r,n){te(e,Ne(e),t,n)})),Ye=ae((function(t,e,r,n){te(e,Be(e),t,n)})),qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ke=/^\w*$/;function $e(t,e){if(_(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!v(t))||(Ke.test(t)||!qe.test(t)||null!=e&&t in Object(e))}var Ve=H(Object,"create");var Ge=Object.prototype.hasOwnProperty;var Ze=Object.prototype.hasOwnProperty;function He(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Je(t,e){for(var r=t.length;r--;)if(Jt(t[r][0],e))return r;return-1}He.prototype.clear=function(){this.__data__=Ve?Ve(null):{},this.size=0},He.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},He.prototype.get=function(t){var e=this.__data__;if(Ve){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ge.call(e,t)?e[t]:void 0},He.prototype.has=function(t){var e=this.__data__;return Ve?void 0!==e[t]:Ze.call(e,t)},He.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ve&&void 0===e?"__lodash_hash_undefined__":e,this};var Qe=Array.prototype.splice;function Xe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xe.prototype.clear=function(){this.__data__=[],this.size=0},Xe.prototype.delete=function(t){var e=this.__data__,r=Je(e,t);return!(r<0)&&(r==e.length-1?e.pop():Qe.call(e,r,1),--this.size,!0)},Xe.prototype.get=function(t){var e=this.__data__,r=Je(e,t);return r<0?void 0:e[r][1]},Xe.prototype.has=function(t){return Je(this.__data__,t)>-1},Xe.prototype.set=function(t,e){var r=this.__data__,n=Je(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var tr=H(o,"Map");function er(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function rr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rr.prototype.clear=function(){this.size=0,this.__data__={hash:new He,map:new(tr||Xe),string:new He}},rr.prototype.delete=function(t){var e=er(this,t).delete(t);return this.size-=e?1:0,e},rr.prototype.get=function(t){return er(this,t).get(t)},rr.prototype.has=function(t){return er(this,t).has(t)},rr.prototype.set=function(t,e){var r=er(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function nr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var u=t.apply(this,n);return r.cache=o.set(i,u)||o,u};return r.cache=new(nr.Cache||rr),r}nr.Cache=rr;var ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,or=/\\(\\)?/g,ur=function(t){var e=nr(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ir,(function(t,r,n,i){e.push(n?i.replace(or,"$1"):r||t)})),e}));function ar(t){return null==t?"":w(t)}function sr(t,e){return _(t)?t:$e(t,e)?[t]:ur(ar(t))}function cr(t){if("string"==typeof t||v(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function fr(t,e){for(var r=0,n=(e=sr(e,t)).length;null!=t&&r<n;)t=t[cr(e[r++])];return r&&r==n?t:void 0}function lr(t,e,r){var n=null==t?void 0:fr(t,e);return void 0===n?r:n}function hr(t,e){for(var r=-1,n=e.length,i=Array(n),o=null==t;++r<n;)i[r]=o?void 0:lr(t,e[r]);return i}function pr(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var dr=u?u.isConcatSpreadable:void 0;function vr(t){return _(t)||ve(t)||!!(dr&&t&&t[dr])}function yr(t,e,r,n,i){var o=-1,u=t.length;for(r||(r=vr),i||(i=[]);++o<u;){var a=t[o];e>0&&r(a)?e>1?yr(a,e-1,r,n,i):pr(i,a):n||(i[i.length]=a)}return i}function gr(t){return(null==t?0:t.length)?yr(t,1):[]}function _r(t){return kt(re(t,void 0,gr),t+"")}var mr=_r(hr),br=Pe(Object.getPrototypeOf,Object),wr=Function.prototype,Er=Object.prototype,jr=wr.toString,Sr=Er.hasOwnProperty,Ar=jr.call(Object);function Rr(t){if(!d(t)||"[object Object]"!=p(t))return!1;var e=br(t);if(null===e)return!0;var r=Sr.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&jr.call(r)==Ar}function xr(t){if(!d(t))return!1;var e=p(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Rr(t)}var Or=ne((function(t,e){try{return nt(t,void 0,e)}catch(t){return xr(t)?t:new Error(t)}}));function Ir(t,e){var r;if("function"!=typeof e)throw new TypeError("Expected a function");return t=B(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}var kr=ne((function(t,e,r){var n=1;if(r.length){var i=qt(r,Dt(kr));n|=32}return Gt(t,n,e,r,i)}));kr.placeholder={};var Pr=_r((function(t,e){return Pt(e,(function(e){e=cr(e),Ht(t,e,kr(t[e],t))})),t})),Tr=ne((function(t,e,r){var n=3;if(r.length){var i=qt(r,Dt(Tr));n|=32}return Gt(e,n,t,r,i)}));function Cr(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function Mr(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:Cr(t,e,r)}Tr.placeholder={};var Br=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ur(t){return Br.test(t)}var Lr="[\\ud800-\\udfff]",Wr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Dr="\\ud83c[\\udffb-\\udfff]",Nr="[^\\ud800-\\udfff]",zr="(?:\\ud83c[\\udde6-\\uddff]){2}",Fr="[\\ud800-\\udbff][\\udc00-\\udfff]",Yr="(?:"+Wr+"|"+Dr+")"+"?",qr="[\\ufe0e\\ufe0f]?"+Yr+("(?:\\u200d(?:"+[Nr,zr,Fr].join("|")+")[\\ufe0e\\ufe0f]?"+Yr+")*"),Kr="(?:"+[Nr+Wr+"?",Wr,zr,Fr,Lr].join("|")+")",$r=RegExp(Dr+"(?="+Dr+")|"+Kr+qr,"g");function Vr(t){return Ur(t)?function(t){return t.match($r)||[]}(t):function(t){return t.split("")}(t)}function Gr(t){return function(e){var r=Ur(e=ar(e))?Vr(e):void 0,n=r?r[0]:e.charAt(0),i=r?Mr(r,1).join(""):e.slice(1);return n[t]()+i}}var Zr=Gr("toUpperCase");function Hr(t){return Zr(ar(t).toLowerCase())}function Jr(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Qr(t){return function(e){return null==t?void 0:t[e]}}var Xr=Qr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),tn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,en=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function rn(t){return(t=ar(t))&&t.replace(tn,Xr).replace(en,"")}var nn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var on=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var un="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",an="["+un+"]",sn="\\d+",cn="[\\u2700-\\u27bf]",fn="[a-z\\xdf-\\xf6\\xf8-\\xff]",ln="[^\\ud800-\\udfff"+un+sn+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",hn="(?:\\ud83c[\\udde6-\\uddff]){2}",pn="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",vn="(?:"+fn+"|"+ln+")",yn="(?:"+dn+"|"+ln+")",gn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",_n="[\\ufe0e\\ufe0f]?"+gn+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",hn,pn].join("|")+")[\\ufe0e\\ufe0f]?"+gn+")*"),mn="(?:"+[cn,hn,pn].join("|")+")"+_n,bn=RegExp([dn+"?"+fn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[an,dn,"$"].join("|")+")",yn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[an,dn+vn,"$"].join("|")+")",dn+"?"+vn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",dn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sn,mn].join("|"),"g");function wn(t,e,r){return t=ar(t),void 0===(e=r?void 0:e)?function(t){return on.test(t)}(t)?function(t){return t.match(bn)||[]}(t):function(t){return t.match(nn)||[]}(t):t.match(e)||[]}var En=RegExp("['’]","g");function jn(t){return function(e){return Jr(wn(rn(e).replace(En,"")),t,"")}}var Sn=jn((function(t,e,r){return e=e.toLowerCase(),t+(r?Hr(e):e)}));var An=o.isFinite,Rn=Math.min;function xn(t){var e=Math[t];return function(t,r){if(t=C(t),(r=null==r?0:Rn(B(r),292))&&An(t)){var n=(ar(t)+"e").split("e");return+((n=(ar(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var On=xn("ceil");function In(t){var e=bt(t);return e.__chain__=!0,e}var kn=Math.ceil,Pn=Math.max;function Tn(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}function Cn(t){var e=this.__data__=new Xe(t);this.size=e.size}function Mn(t,e){return t&&te(e,Be(e),t)}Cn.prototype.clear=function(){this.__data__=new Xe,this.size=0},Cn.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Cn.prototype.get=function(t){return this.__data__.get(t)},Cn.prototype.has=function(t){return this.__data__.has(t)},Cn.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Xe){var n=r.__data__;if(!tr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new rr(n)}return r.set(t,e),this.size=r.size,this};var Bn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Un=Bn&&"object"==typeof module&&module&&!module.nodeType&&module,Ln=Un&&Un.exports===Bn?o.Buffer:void 0,Wn=Ln?Ln.allocUnsafe:void 0;function Dn(t,e){if(e)return t.slice();var r=t.length,n=Wn?Wn(r):new t.constructor(r);return t.copy(n),n}function Nn(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var u=t[r];e(u,r,t)&&(o[i++]=u)}return o}function zn(){return[]}var Fn=Object.prototype.propertyIsEnumerable,Yn=Object.getOwnPropertySymbols,qn=Yn?function(t){return null==t?[]:(t=Object(t),Nn(Yn(t),(function(e){return Fn.call(t,e)})))}:zn;var Kn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)pr(e,qn(t)),t=br(t);return e}:zn;function $n(t,e,r){var n=e(t);return _(t)?n:pr(n,r(t))}function Vn(t){return $n(t,Be,qn)}function Gn(t){return $n(t,Ne,Kn)}var Zn=H(o,"DataView"),Hn=H(o,"Promise"),Jn=H(o,"Set"),Qn=F(Zn),Xn=F(tr),ti=F(Hn),ei=F(Jn),ri=F(J),ni=p;(Zn&&"[object DataView]"!=ni(new Zn(new ArrayBuffer(1)))||tr&&"[object Map]"!=ni(new tr)||Hn&&"[object Promise]"!=ni(Hn.resolve())||Jn&&"[object Set]"!=ni(new Jn)||J&&"[object WeakMap]"!=ni(new J))&&(ni=function(t){var e=p(t),r="[object Object]"==e?t.constructor:void 0,n=r?F(r):"";if(n)switch(n){case Qn:return"[object DataView]";case Xn:return"[object Map]";case ti:return"[object Promise]";case ei:return"[object Set]";case ri:return"[object WeakMap]"}return e});var ii=ni,oi=Object.prototype.hasOwnProperty;var ui=o.Uint8Array;function ai(t){var e=new t.constructor(t.byteLength);return new ui(e).set(new ui(t)),e}var si=/\w*$/;var ci=u?u.prototype:void 0,fi=ci?ci.valueOf:void 0;function li(t,e){var r=e?ai(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function hi(t,e,r){var n,i=t.constructor;switch(e){case"[object ArrayBuffer]":return ai(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var r=e?ai(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return li(t,r);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,si.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new i;case"[object Symbol]":return n=t,fi?Object(fi.call(n)):{}}}function pi(t){return"function"!=typeof t.constructor||ce(t)?{}:et(br(t))}var di=Re&&Re.isMap,vi=di?Ee(di):function(t){return d(t)&&"[object Map]"==ii(t)};var yi=Re&&Re.isSet,gi=yi?Ee(yi):function(t){return d(t)&&"[object Set]"==ii(t)},_i={};function mi(t,e,r,n,i,o){var u,a=1&e,s=2&e,c=4&e;if(r&&(u=i?r(t,n,i,o):r(t)),void 0!==u)return u;if(!O(t))return t;var f=_(t);if(f){if(u=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&oi.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!a)return gt(t,u)}else{var l=ii(t),h="[object Function]"==l||"[object GeneratorFunction]"==l;if(be(t))return Dn(t,a);if("[object Object]"==l||"[object Arguments]"==l||h&&!i){if(u=s||h?{}:pi(t),!a)return s?function(t,e){return te(t,Kn(t),e)}(t,function(t,e){return t&&te(e,Ne(e),t)}(u,t)):function(t,e){return te(t,qn(t),e)}(t,Mn(u,t))}else{if(!_i[l])return i?t:{};u=hi(t,l,a)}}o||(o=new Cn);var p=o.get(t);if(p)return p;o.set(t,u),gi(t)?t.forEach((function(n){u.add(mi(n,e,r,n,t,o))})):vi(t)&&t.forEach((function(n,i){u.set(i,mi(n,e,r,i,t,o))}));var d=f?void 0:(c?s?Gn:Vn:s?Ne:Be)(t);return Pt(d||t,(function(n,i){d&&(n=t[i=n]),Xt(u,i,mi(n,e,r,i,t,o))})),u}_i["[object Arguments]"]=_i["[object Array]"]=_i["[object ArrayBuffer]"]=_i["[object DataView]"]=_i["[object Boolean]"]=_i["[object Date]"]=_i["[object Float32Array]"]=_i["[object Float64Array]"]=_i["[object Int8Array]"]=_i["[object Int16Array]"]=_i["[object Int32Array]"]=_i["[object Map]"]=_i["[object Number]"]=_i["[object Object]"]=_i["[object RegExp]"]=_i["[object Set]"]=_i["[object String]"]=_i["[object Symbol]"]=_i["[object Uint8Array]"]=_i["[object Uint8ClampedArray]"]=_i["[object Uint16Array]"]=_i["[object Uint32Array]"]=!0,_i["[object Error]"]=_i["[object Function]"]=_i["[object WeakMap]"]=!1;function bi(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new rr;++e<r;)this.add(t[e])}function wi(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ei(t,e){return t.has(e)}bi.prototype.add=bi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},bi.prototype.has=function(t){return this.__data__.has(t)};function ji(t,e,r,n,i,o){var u=1&r,a=t.length,s=e.length;if(a!=s&&!(u&&s>a))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var l=-1,h=!0,p=2&r?new bi:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var d=t[l],v=e[l];if(n)var y=u?n(v,d,l,e,t,o):n(d,v,l,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(p){if(!wi(e,(function(t,e){if(!Ei(p,e)&&(d===t||i(d,t,r,n,o)))return p.push(e)}))){h=!1;break}}else if(d!==v&&!i(d,v,r,n,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Si(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Ai(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Ri=u?u.prototype:void 0,xi=Ri?Ri.valueOf:void 0;var Oi=Object.prototype.hasOwnProperty;var Ii="[object Object]",ki=Object.prototype.hasOwnProperty;function Pi(t,e,r,n,i,o){var u=_(t),a=_(e),s=u?"[object Array]":ii(t),c=a?"[object Array]":ii(e),f=(s="[object Arguments]"==s?Ii:s)==Ii,l=(c="[object Arguments]"==c?Ii:c)==Ii,h=s==c;if(h&&be(t)){if(!be(e))return!1;u=!0,f=!1}if(h&&!f)return o||(o=new Cn),u||Oe(t)?ji(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ui(t),new ui(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Jt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Si;case"[object Set]":var s=1&n;if(a||(a=Ai),t.size!=e.size&&!s)return!1;var c=u.get(t);if(c)return c==e;n|=2,u.set(t,e);var f=ji(a(t),a(e),n,i,o,u);return u.delete(t),f;case"[object Symbol]":if(xi)return xi.call(t)==xi.call(e)}return!1}(t,e,s,r,n,i,o);if(!(1&r)){var p=f&&ki.call(t,"__wrapped__"),d=l&&ki.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,y=d?e.value():e;return o||(o=new Cn),i(v,y,r,n,o)}}return!!h&&(o||(o=new Cn),function(t,e,r,n,i,o){var u=1&r,a=Vn(t),s=a.length;if(s!=Vn(e).length&&!u)return!1;for(var c=s;c--;){var f=a[c];if(!(u?f in e:Oi.call(e,f)))return!1}var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=u;++c<s;){var v=t[f=a[c]],y=e[f];if(n)var g=u?n(y,v,f,e,t,o):n(v,y,f,t,e,o);if(!(void 0===g?v===y||i(v,y,r,n,o):g)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var _=t.constructor,m=e.constructor;_==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,i,o))}function Ti(t,e,r,n,i){return t===e||(null==t||null==e||!d(t)&&!d(e)?t!=t&&e!=e:Pi(t,e,r,n,Ti,i))}function Ci(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var a=r[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var s=(a=r[i])[0],c=t[s],f=a[1];if(u&&a[2]){if(void 0===c&&!(s in t))return!1}else{var l=new Cn;if(n)var h=n(c,f,s,t,e,l);if(!(void 0===h?Ti(f,c,3,n,l):h))return!1}}return!0}function Mi(t){return t==t&&!O(t)}function Bi(t){for(var e=Be(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Mi(i)]}return e}function Ui(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function Li(t){var e=Bi(t);return 1==e.length&&e[0][2]?Ui(e[0][0],e[0][1]):function(r){return r===t||Ci(r,t,e)}}function Wi(t,e){return null!=t&&e in Object(t)}function Di(t,e,r){for(var n=-1,i=(e=sr(e,t)).length,o=!1;++n<i;){var u=cr(e[n]);if(!(o=null!=t&&r(t,u)))break;t=t[u]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ie(i)&&zt(u,i)&&(_(t)||ve(t))}function Ni(t,e){return null!=t&&Di(t,e,Wi)}function zi(t,e){return $e(t)&&Mi(e)?Ui(cr(t),e):function(r){var n=lr(r,t);return void 0===n&&n===e?Ni(r,t):Ti(e,n,3)}}function Fi(t){return function(e){return null==e?void 0:e[t]}}function Yi(t){return $e(t)?Fi(cr(t)):function(t){return function(e){return fr(e,t)}}(t)}function qi(t){return"function"==typeof t?t:null==t?U:"object"==typeof t?_(t)?zi(t[0],t[1]):Li(t):Yi(t)}function Ki(t,e,r){var n=r.length;if(null==t)return!n;for(t=Object(t);n--;){var i=r[n],o=e[i],u=t[i];if(void 0===u&&!(i in t)||!o(u))return!1}return!0}function $i(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];e(n,u,r(u),t)}return n}function Vi(t){return function(e,r,n){for(var i=-1,o=Object(e),u=n(e),a=u.length;a--;){var s=u[t?a:++i];if(!1===r(o[s],s,o))break}return e}}var Gi=Vi();function Zi(t,e){return t&&Gi(t,e,Be)}function Hi(t,e){return function(r,n){if(null==r)return r;if(!oe(r))return t(r,n);for(var i=r.length,o=e?i:-1,u=Object(r);(e?o--:++o<i)&&!1!==n(u[o],o,u););return r}}var Ji=Hi(Zi);function Qi(t,e,r,n){return Ji(t,(function(t,i,o){e(n,t,r(t),o)})),n}function Xi(t,e){return function(r,n){var i=_(r)?$i:Qi,o=e?e():{};return i(r,t,qi(n),o)}}var to=Object.prototype.hasOwnProperty,eo=Xi((function(t,e,r){to.call(t,r)?++t[r]:Ht(t,r,1)}));function ro(t,e,r){var n=Gt(t,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return n.placeholder=ro.placeholder,n}ro.placeholder={};function no(t,e,r){var n=Gt(t,16,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return n.placeholder=no.placeholder,n}no.placeholder={};var io=function(){return o.Date.now()},oo=Math.max,uo=Math.min;function ao(t,e,r){var n,i,o,u,a,s,c=0,f=!1,l=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var r=n,o=i;return n=i=void 0,c=e,u=t.apply(o,r)}function d(t){return c=t,a=setTimeout(y,e),f?p(t):u}function v(t){var r=t-s;return void 0===s||r>=e||r<0||l&&t-c>=o}function y(){var t=io();if(v(t))return g(t);a=setTimeout(y,function(t){var r=e-(t-s);return l?uo(r,o-(t-c)):r}(t))}function g(t){return a=void 0,h&&n?p(t):(n=i=void 0,u)}function _(){var t=io(),r=v(t);if(n=arguments,i=this,s=t,r){if(void 0===a)return d(s);if(l)return clearTimeout(a),a=setTimeout(y,e),p(s)}return void 0===a&&(a=setTimeout(y,e)),u}return e=C(e)||0,O(r)&&(f=!!r.leading,o=(l="maxWait"in r)?oo(C(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=s=i=a=void 0},_.flush=function(){return void 0===a?u:g(io())},_}var so=Object.prototype,co=so.hasOwnProperty,fo=ne((function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&ue(e[0],e[1],i)&&(n=1);++r<n;)for(var o=e[r],u=Ne(o),a=-1,s=u.length;++a<s;){var c=u[a],f=t[c];(void 0===f||Jt(f,so[c])&&!co.call(t,c))&&(t[c]=o[c])}return t}));function lo(t,e,r){(void 0!==r&&!Jt(t[e],r)||void 0===r&&!(e in t))&&Ht(t,e,r)}function ho(t){return d(t)&&oe(t)}function po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function vo(t){return te(t,Ne(t))}function yo(t,e,r,n,i){t!==e&&Gi(e,(function(o,u){if(i||(i=new Cn),O(o))!function(t,e,r,n,i,o,u){var a=po(t,r),s=po(e,r),c=u.get(s);if(c)lo(t,r,c);else{var f=o?o(a,s,r+"",t,e,u):void 0,l=void 0===f;if(l){var h=_(s),p=!h&&be(s),d=!h&&!p&&Oe(s);f=s,h||p||d?_(a)?f=a:ho(a)?f=gt(a):p?(l=!1,f=Dn(s,!0)):d?(l=!1,f=li(s,!0)):f=[]:Rr(s)||ve(s)?(f=a,ve(a)?f=vo(a):O(a)&&!L(a)||(f=pi(s))):l=!1}l&&(u.set(s,f),i(f,s,n,o,u),u.delete(s)),lo(t,r,f)}}(t,e,u,r,yo,n,i);else{var a=n?n(po(t,u),o,u+"",t,e,i):void 0;void 0===a&&(a=o),lo(t,u,a)}}),Ne)}function go(t,e,r,n,i,o){return O(t)&&O(e)&&(o.set(e,t),yo(t,e,void 0,go,o),o.delete(e)),t}var _o=ae((function(t,e,r,n){yo(t,e,r,n)})),mo=ne((function(t){return t.push(void 0,go),nt(_o,void 0,t)}));function bo(t,e,r){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,r)}),e)}var wo=ne((function(t,e){return bo(t,1,e)})),Eo=ne((function(t,e,r){return bo(t,C(e)||0,r)}));function jo(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function So(t,e,r,n){var i=-1,o=Bt,u=!0,a=t.length,s=[],c=e.length;if(!a)return s;r&&(e=g(e,Ee(r))),n?(o=jo,u=!1):e.length>=200&&(o=Ei,u=!1,e=new bi(e));t:for(;++i<a;){var f=t[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,u&&l==l){for(var h=c;h--;)if(e[h]===l)continue t;s.push(f)}else o(e,l,n)||s.push(f)}return s}var Ao=ne((function(t,e){return ho(t)?So(t,yr(e,1,ho,!0)):[]}));function Ro(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var xo=ne((function(t,e){var r=Ro(e);return ho(r)&&(r=void 0),ho(t)?So(t,yr(e,1,ho,!0),qi(r)):[]})),Oo=ne((function(t,e){var r=Ro(e);return ho(r)&&(r=void 0),ho(t)?So(t,yr(e,1,ho,!0),void 0,r):[]})),Io=E((function(t,e){return t/e}),1);function ko(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Cr(t,n?0:o,n?o+1:i):Cr(t,n?o+1:0,n?i:o)}function Po(t){return"function"==typeof t?t:U}function To(t,e){return(_(t)?Pt:Ji)(t,Po(e))}function Co(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}var Mo=Vi(!0);function Bo(t,e){return t&&Mo(t,e,Be)}var Uo=Hi(Bo,!0);function Lo(t,e){return(_(t)?Co:Uo)(t,Po(e))}function Wo(t){return function(e){var r=ii(e);return"[object Map]"==r?Si(e):"[object Set]"==r?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return g(e,(function(e){return[e,t[e]]}))}(e,t(e))}}var Do=Wo(Be),No=Wo(Ne),zo=Qr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Fo=/[&<>"']/g,Yo=RegExp(Fo.source);function qo(t){return(t=ar(t))&&Yo.test(t)?t.replace(Fo,zo):t}var Ko=/[\\^$.*+?()[\]{}|]/g,$o=RegExp(Ko.source);function Vo(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Go(t,e){var r=!0;return Ji(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function Zo(t){return t?Tn(B(t),0,4294967295):0}function Ho(t,e){var r=[];return Ji(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Jo(t){return function(e,r,n){var i=Object(e);if(!oe(e)){var o=qi(r);e=Be(e),r=function(t){return o(i[t],t,i)}}var u=t(e,r,n);return u>-1?i[o?e[u]:u]:void 0}}var Qo=Math.max;function Xo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:B(r);return i<0&&(i=Qo(n+i,0)),Tt(t,qi(e),i)}var tu=Jo(Xo);function eu(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}var ru=Math.max,nu=Math.min;function iu(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=B(r),i=r<0?ru(n+i,0):nu(i,n-1)),Tt(t,qi(e),i,!0)}var ou=Jo(iu);function uu(t){return t&&t.length?t[0]:void 0}function au(t,e){var r=-1,n=oe(t)?Array(t.length):[];return Ji(t,(function(t,i,o){n[++r]=e(t,i,o)})),n}function su(t,e){return(_(t)?g:au)(t,qi(e))}var cu=xn("floor");function fu(t){return _r((function(e){var r=e.length,n=r,i=yt.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new TypeError("Expected a function");if(i&&!u&&"wrapper"==vt(o))var u=new yt([],!0)}for(n=u?n:r;++n<r;){var a=vt(o=e[n]),s="wrapper"==a?ht(o):void 0;u=s&&wt(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[vt(s[0])].apply(u,s[3]):1==o.length&&wt(o)?u[a]():u.thru(o)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&_(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}var lu=fu(),hu=fu(!0);function pu(t,e){return Nn(e,(function(e){return L(t[e])}))}var du=Object.prototype.hasOwnProperty,vu=Xi((function(t,e,r){du.call(t,r)?t[r].push(e):Ht(t,r,[e])}));function yu(t,e){return t>e}function gu(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=C(e),r=C(r)),t(e,r)}}var _u=gu(yu),mu=gu((function(t,e){return t>=e})),bu=Object.prototype.hasOwnProperty;function wu(t,e){return null!=t&&bu.call(t,e)}var Eu=Math.max,ju=Math.min;function Su(t){return"string"==typeof t||!_(t)&&d(t)&&"[object String]"==p(t)}function Au(t,e){return g(e,(function(e){return t[e]}))}function Ru(t){return null==t?[]:Au(t,Be(t))}var xu=Math.max;var Ou=Math.max;var Iu=Math.min;function ku(t,e,r){for(var n=r?jo:Bt,i=t[0].length,o=t.length,u=o,a=Array(o),s=1/0,c=[];u--;){var f=t[u];u&&e&&(f=g(f,Ee(e))),s=Iu(f.length,s),a[u]=!r&&(e||i>=120&&f.length>=120)?new bi(u&&f):void 0}f=t[0];var l=-1,h=a[0];t:for(;++l<i&&c.length<s;){var p=f[l],d=e?e(p):p;if(p=r||0!==p?p:0,!(h?Ei(h,d):n(c,d,r))){for(u=o;--u;){var v=a[u];if(!(v?Ei(v,d):n(t[u],d,r)))continue t}h&&h.push(d),c.push(p)}}return c}function Pu(t){return ho(t)?t:[]}var Tu=ne((function(t){var e=g(t,Pu);return e.length&&e[0]===t[0]?ku(e):[]})),Cu=ne((function(t){var e=Ro(t),r=g(t,Pu);return e===Ro(r)?e=void 0:r.pop(),r.length&&r[0]===t[0]?ku(r,qi(e)):[]})),Mu=ne((function(t){var e=Ro(t),r=g(t,Pu);return(e="function"==typeof e?e:void 0)&&r.pop(),r.length&&r[0]===t[0]?ku(r,void 0,e):[]}));function Bu(t,e){return function(r,n){return function(t,e,r,n){return Zi(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}var Uu=Object.prototype.toString,Lu=Bu((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Uu.call(e)),t[e]=r}),Ot(U)),Wu=Object.prototype,Du=Wu.hasOwnProperty,Nu=Wu.toString,zu=Bu((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Nu.call(e)),Du.call(t,e)?t[e].push(r):t[e]=[r]}),qi);function Fu(t,e){return e.length<2?t:fr(t,Cr(e,0,-1))}function Yu(t,e,r){var n=null==(t=Fu(t,e=sr(e,t)))?t:t[cr(Ro(e))];return null==n?void 0:nt(n,t,r)}var qu=ne(Yu),Ku=ne((function(t,e,r){var n=-1,i="function"==typeof e,o=oe(t)?Array(t.length):[];return Ji(t,(function(t){o[++n]=i?nt(e,t,r):Yu(t,e,r)})),o}));var $u=Re&&Re.isArrayBuffer,Vu=$u?Ee($u):function(t){return d(t)&&"[object ArrayBuffer]"==p(t)};var Gu=Re&&Re.isDate,Zu=Gu?Ee(Gu):function(t){return d(t)&&"[object Date]"==p(t)};var Hu=Object.prototype.hasOwnProperty;var Ju=o.isFinite;function Qu(t){return"number"==typeof t&&t==B(t)}function Xu(t){return"number"==typeof t||d(t)&&"[object Number]"==p(t)}var ta=D?L:ye;var ea=Re&&Re.isRegExp,ra=ea?Ee(ea):function(t){return d(t)&&"[object RegExp]"==p(t)};var na=Array.prototype.join;var ia=jn((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),oa=Xi((function(t,e,r){Ht(t,r,e)}));var ua=Math.max,aa=Math.min;var sa=jn((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),ca=Gr("toLowerCase");function fa(t,e){return t<e}var la=gu(fa),ha=gu((function(t,e){return t<=e}));function pa(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],u=e(o);if(null!=u&&(void 0===a?u==u&&!v(u):r(u,a)))var a=u,s=o}return s}function da(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}function va(t,e){var r=null==t?0:t.length;return r?da(t,e)/r:NaN}var ya=ae((function(t,e,r){yo(t,e,r)})),ga=ne((function(t,e){return function(r){return Yu(r,t,e)}})),_a=ne((function(t,e){return function(r){return Yu(t,r,e)}}));function ma(t,e,r){var n=Be(e),i=pu(e,n),o=!(O(r)&&"chain"in r&&!r.chain),u=L(t);return Pt(i,(function(r){var n=e[r];t[r]=n,u&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=gt(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,pr([this.value()],arguments))})})),t}var ba=E((function(t,e){return t*e}),1);function wa(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var Ea=u?u.iterator:void 0;function ja(t){if(!t)return[];if(oe(t))return Su(t)?Vr(t):gt(t);if(Ea&&t[Ea])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Ea]());var e=ii(t);return("[object Map]"==e?Si:"[object Set]"==e?Ai:Ru)(t)}function Sa(t,e){var r=t.length;if(r)return zt(e+=e<0?r:0,r)?t[e]:void 0}function Aa(t,e){return null==(t=Fu(t,e=sr(e,t)))||delete t[cr(Ro(e))]}function Ra(t){return Rr(t)?void 0:t}var xa=_r((function(t,e){var r={};if(null==t)return r;var n=!1;e=g(e,(function(e){return e=sr(e,t),n||(n=e.length>1),e})),te(t,Gn(t),r),n&&(r=mi(r,7,Ra));for(var i=e.length;i--;)Aa(r,e[i]);return r}));function Oa(t,e,r,n){if(!O(t))return t;for(var i=-1,o=(e=sr(e,t)).length,u=o-1,a=t;null!=a&&++i<o;){var s=cr(e[i]),c=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=u){var f=a[s];void 0===(c=n?n(f,s,a):void 0)&&(c=O(f)?f:zt(e[i+1])?[]:{})}Xt(a,s,c),a=a[s]}return t}function Ia(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var u=e[n],a=fr(t,u);r(a,u)&&Oa(o,sr(u,t),a)}return o}function ka(t,e){if(null==t)return{};var r=g(Gn(t),(function(t){return[t]}));return e=qi(e),Ia(t,r,(function(t,r){return e(t,r[0])}))}function Pa(t,e){if(t!==e){var r=void 0!==t,n=null===t,i=t==t,o=v(t),u=void 0!==e,a=null===e,s=e==e,c=v(e);if(!a&&!c&&!o&&t>e||o&&u&&s&&!a&&!c||n&&u&&s||!r&&s||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!u&&i||!s)return-1}return 0}function Ta(t,e,r){e=e.length?g(e,(function(t){return _(t)?function(e){return fr(e,1===t.length?t[0]:t)}:t})):[U];var n=-1;return e=g(e,Ee(qi)),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(au(t,(function(t,r,i){return{criteria:g(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,u=i.length,a=r.length;++n<u;){var s=Pa(i[n],o[n]);if(s)return n>=a?s:s*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Ca(t){return _r((function(e){return e=g(e,Ee(qi)),ne((function(r){var n=this;return t(e,(function(t){return nt(t,n,r)}))}))}))}var Ma=Ca(g),Ba=ne,Ua=Math.min,La=Ba((function(t,e){var r=(e=1==e.length&&_(e[0])?g(e[0],Ee(qi)):g(yr(e,1),Ee(qi))).length;return ne((function(n){for(var i=-1,o=Ua(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return nt(t,this,n)}))})),Wa=Ca(Vo),Da=Ca(wi),Na=Math.floor;function za(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do{e%2&&(r+=t),(e=Na(e/2))&&(t+=t)}while(e);return r}var Fa=Fi("length"),Ya="[\\ud800-\\udfff]",qa="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ka="\\ud83c[\\udffb-\\udfff]",$a="[^\\ud800-\\udfff]",Va="(?:\\ud83c[\\udde6-\\uddff]){2}",Ga="[\\ud800-\\udbff][\\udc00-\\udfff]",Za="(?:"+qa+"|"+Ka+")"+"?",Ha="[\\ufe0e\\ufe0f]?"+Za+("(?:\\u200d(?:"+[$a,Va,Ga].join("|")+")[\\ufe0e\\ufe0f]?"+Za+")*"),Ja="(?:"+[$a+qa+"?",qa,Va,Ga,Ya].join("|")+")",Qa=RegExp(Ka+"(?="+Ka+")|"+Ja+Ha,"g");function Xa(t){return Ur(t)?function(t){for(var e=Qa.lastIndex=0;Qa.test(t);)++e;return e}(t):Fa(t)}var ts=Math.ceil;function es(t,e){var r=(e=void 0===e?" ":w(e)).length;if(r<2)return r?za(e,t):e;var n=za(e,ts(t/Xa(e)));return Ur(e)?Mr(Vr(n),0,t).join(""):n.slice(0,t)}var rs=Math.ceil,ns=Math.floor;var is=/^\s+/,os=o.parseInt;var us=ne((function(t,e){return Gt(t,32,void 0,e,qt(e,Dt(us)))}));us.placeholder={};var as=ne((function(t,e){return Gt(t,64,void 0,e,qt(e,Dt(as)))}));as.placeholder={};var ss=Xi((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var cs=_r((function(t,e){return null==t?{}:function(t,e){return Ia(t,e,(function(e,r){return Ni(t,r)}))}(t,e)}));function fs(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}var ls=Array.prototype.splice;function hs(t,e,r,n){var i=n?fs:Mt,o=-1,u=e.length,a=t;for(t===e&&(e=gt(e)),r&&(a=g(t,Ee(r)));++o<u;)for(var s=0,c=e[o],f=r?r(c):c;(s=i(a,f,s,n))>-1;)a!==t&&ls.call(a,s,1),ls.call(t,s,1);return t}function ps(t,e){return t&&t.length&&e&&e.length?hs(t,e):t}var ds=ne(ps);var vs=Array.prototype.splice;function ys(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;zt(i)?vs.call(t,i,1):Aa(t,i)}}return t}var gs=_r((function(t,e){var r=null==t?0:t.length,n=hr(t,e);return ys(t,g(e,(function(t){return zt(t,r)?+t:t})).sort(Pa)),n})),_s=Math.floor,ms=Math.random;function bs(t,e){return t+_s(ms()*(e-t+1))}var ws=parseFloat,Es=Math.min,js=Math.random;var Ss=Math.ceil,As=Math.max;function Rs(t){return function(e,r,n){return n&&"number"!=typeof n&&ue(e,r,n)&&(r=n=void 0),e=M(e),void 0===r?(r=e,e=0):r=M(r),function(t,e,r,n){for(var i=-1,o=As(Ss((e-t)/(r||1)),0),u=Array(o);o--;)u[n?o:++i]=t,t+=r;return u}(e,r,n=void 0===n?e<r?1:-1:M(n),t)}}var xs=Rs(),Os=Rs(!0),Is=_r((function(t,e){return Gt(t,256,void 0,void 0,void 0,e)}));function ks(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Ps(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}var Ts=Array.prototype.reverse;function Cs(t){return null==t?t:Ts.call(t)}var Ms=xn("round");function Bs(t){var e=t.length;return e?t[bs(0,e-1)]:void 0}function Us(t){return Bs(Ru(t))}function Ls(t,e){var r=-1,n=t.length,i=n-1;for(e=void 0===e?n:e;++r<e;){var o=bs(r,i),u=t[o];t[o]=t[r],t[r]=u}return t.length=e,t}function Ws(t,e){return Ls(gt(t),Tn(e,0,t.length))}function Ds(t,e){var r=Ru(t);return Ls(r,Tn(e,0,r.length))}function Ns(t){return Ls(gt(t))}function zs(t){return Ls(Ru(t))}var Fs=jn((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));function Ys(t,e){var r;return Ji(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}var qs=ne((function(t,e){if(null==t)return[];var r=e.length;return r>1&&ue(t,e[0],e[1])?e=[]:r>2&&ue(e[0],e[1],e[2])&&(e=[e[0]]),Ta(t,yr(e,1),[])})),Ks=Math.floor,$s=Math.min;function Vs(t,e,r,n){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var u=(e=r(e))!=e,a=null===e,s=v(e),c=void 0===e;i<o;){var f=Ks((i+o)/2),l=r(t[f]),h=void 0!==l,p=null===l,d=l==l,y=v(l);if(u)var g=n||d;else g=c?d&&(n||h):a?d&&h&&(n||!p):s?d&&h&&!p&&(n||!y):!p&&!y&&(n?l<=e:l<e);g?i=f+1:o=f}return $s(o,4294967294)}function Gs(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,u=t[o];null!==u&&!v(u)&&(r?u<=e:u<e)?n=o+1:i=o}return i}return Vs(t,e,U,r)}function Zs(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var u=t[r],a=e?e(u):u;if(!r||!Jt(a,s)){var s=a;o[i++]=0===u?0:u}}return o}var Hs=Math.max;var Js=jn((function(t,e,r){return t+(r?" ":"")+Zr(e)}));var Qs=E((function(t,e){return t-e}),0);var Xs=Object.prototype,tc=Xs.hasOwnProperty;function ec(t,e,r,n){return void 0===t||Jt(t,Xs[r])&&!tc.call(n,r)?e:t}var rc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function nc(t){return"\\"+rc[t]}var ic=/<%=([\s\S]+?)%>/g,oc={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ic,variable:"",imports:{_:{escape:qo}}},uc=/\b__p \+= '';/g,ac=/\b(__p \+=) '' \+/g,sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cc=/[()=,{}\[\]\/\s]/,fc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lc=/($^)/,hc=/['\n\r\u2028\u2029\\]/g,pc=Object.prototype.hasOwnProperty;function dc(t,e){return e(t)}var vc=Math.min;function yc(t,e){var r=t;return r instanceof ft&&(r=r.value()),Jr(e,(function(t,e){return e.func.apply(e.thisArg,pr([t],e.args))}),r)}function gc(){return yc(this.__wrapped__,this.__actions__)}function _c(t,e){for(var r=t.length;r--&&Mt(e,t[r],0)>-1;);return r}function mc(t,e){for(var r=-1,n=t.length;++r<n&&Mt(e,t[r],0)>-1;);return r}var bc=/^\s+/;var wc=/\w*$/;var Ec=Qr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),jc=/&(?:amp|lt|gt|quot|#39);/g,Sc=RegExp(jc.source);var Ac=Jn&&1/Ai(new Jn([,-0]))[1]==1/0?function(t){return new Jn(t)}:lt;function Rc(t,e,r){var n=-1,i=Bt,o=t.length,u=!0,a=[],s=a;if(r)u=!1,i=jo;else if(o>=200){var c=e?null:Ac(t);if(c)return Ai(c);u=!1,i=Ei,s=new bi}else s=e?[]:a;t:for(;++n<o;){var f=t[n],l=e?e(f):f;if(f=r||0!==f?f:0,u&&l==l){for(var h=s.length;h--;)if(s[h]===l)continue t;e&&s.push(l),a.push(f)}else i(s,l,r)||(s!==a&&s.push(l),a.push(f))}return a}var xc=ne((function(t){return Rc(yr(t,1,ho,!0))})),Oc=ne((function(t){var e=Ro(t);return ho(e)&&(e=void 0),Rc(yr(t,1,ho,!0),qi(e))})),Ic=ne((function(t){var e=Ro(t);return e="function"==typeof e?e:void 0,Rc(yr(t,1,ho,!0),void 0,e)}));var kc=0;var Pc=Math.max;function Tc(t){if(!t||!t.length)return[];var e=0;return t=Nn(t,(function(t){if(ho(t))return e=Pc(t.length,e),!0})),fe(e,(function(e){return g(t,Fi(e))}))}function Cc(t,e){if(!t||!t.length)return[];var r=Tc(t);return null==e?r:g(r,(function(t){return nt(e,void 0,t)}))}function Mc(t,e,r,n){return Oa(t,e,r(fr(t,e)),n)}var Bc=jn((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}));var Uc=ne((function(t,e){return ho(t)?So(t,e):[]}));var Lc=_r((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return hr(e,t)};return!(e>1||this.__actions__.length)&&n instanceof ft&&zt(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:dc,args:[i],thisArg:void 0}),new yt(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));function Wc(t,e,r){var n=t.length;if(n<2)return n?Rc(t[0]):[];for(var i=-1,o=Array(n);++i<n;)for(var u=t[i],a=-1;++a<n;)a!=i&&(o[i]=So(o[i]||u,t[a],e,r));return Rc(yr(o,1),e,r)}var Dc=ne((function(t){return Wc(Nn(t,ho))})),Nc=ne((function(t){var e=Ro(t);return ho(e)&&(e=void 0),Wc(Nn(t,ho),qi(e))})),zc=ne((function(t){var e=Ro(t);return e="function"==typeof e?e:void 0,Wc(Nn(t,ho),void 0,e)})),Fc=ne(Tc);function Yc(t,e,r){for(var n=-1,i=t.length,o=e.length,u={};++n<i;){var a=n<o?e[n]:void 0;r(u,t[n],a)}return u}var qc=ne((function(t){var e=t.length,r=e>1?t[e-1]:void 0;return r="function"==typeof r?(t.pop(),r):void 0,Cc(t,r)})),Kc={chunk:function(t,e,r){e=(r?ue(t,e,r):void 0===e)?1:Pn(B(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,o=0,u=Array(kn(n/e));i<n;)u[o++]=Cr(t,i,i+=e);return u},compact:function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},concat:function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return pr(_(r)?gt(r):[r],yr(e,1))},difference:Ao,differenceBy:xo,differenceWith:Oo,drop:function(t,e,r){var n=null==t?0:t.length;return n?Cr(t,(e=r||void 0===e?1:B(e))<0?0:e,n):[]},dropRight:function(t,e,r){var n=null==t?0:t.length;return n?Cr(t,0,(e=n-(e=r||void 0===e?1:B(e)))<0?0:e):[]},dropRightWhile:function(t,e){return t&&t.length?ko(t,qi(e),!0,!0):[]},dropWhile:function(t,e){return t&&t.length?ko(t,qi(e),!0):[]},fill:function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&ue(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=B(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:B(n))<0&&(n+=i),n=r>n?0:Zo(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},findIndex:Xo,findLastIndex:iu,first:uu,flatten:gr,flattenDeep:function(t){return(null==t?0:t.length)?yr(t,Infinity):[]},flattenDepth:function(t,e){return(null==t?0:t.length)?yr(t,e=void 0===e?1:B(e)):[]},fromPairs:function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},head:uu,indexOf:function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:B(r);return i<0&&(i=Ou(n+i,0)),Mt(t,e,i)},initial:function(t){return(null==t?0:t.length)?Cr(t,0,-1):[]},intersection:Tu,intersectionBy:Cu,intersectionWith:Mu,join:function(t,e){return null==t?"":na.call(t,e)},last:Ro,lastIndexOf:function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=B(r))<0?ua(n+i,0):aa(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):Tt(t,Ct,i,!0)},nth:function(t,e){return t&&t.length?Sa(t,B(e)):void 0},pull:ds,pullAll:ps,pullAllBy:function(t,e,r){return t&&t.length&&e&&e.length?hs(t,e,qi(r)):t},pullAllWith:function(t,e,r){return t&&t.length&&e&&e.length?hs(t,e,void 0,r):t},pullAt:gs,remove:function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=qi(e);++n<o;){var u=t[n];e(u,n,t)&&(r.push(u),i.push(n))}return ys(t,i),r},reverse:Cs,slice:function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&ue(t,e,r)?(e=0,r=n):(e=null==e?0:B(e),r=void 0===r?n:B(r)),Cr(t,e,r)):[]},sortedIndex:function(t,e){return Gs(t,e)},sortedIndexBy:function(t,e,r){return Vs(t,e,qi(r))},sortedIndexOf:function(t,e){var r=null==t?0:t.length;if(r){var n=Gs(t,e);if(n<r&&Jt(t[n],e))return n}return-1},sortedLastIndex:function(t,e){return Gs(t,e,!0)},sortedLastIndexBy:function(t,e,r){return Vs(t,e,qi(r),!0)},sortedLastIndexOf:function(t,e){if(null==t?0:t.length){var r=Gs(t,e,!0)-1;if(Jt(t[r],e))return r}return-1},sortedUniq:function(t){return t&&t.length?Zs(t):[]},sortedUniqBy:function(t,e){return t&&t.length?Zs(t,qi(e)):[]},tail:function(t){var e=null==t?0:t.length;return e?Cr(t,1,e):[]},take:function(t,e,r){return t&&t.length?Cr(t,0,(e=r||void 0===e?1:B(e))<0?0:e):[]},takeRight:function(t,e,r){var n=null==t?0:t.length;return n?Cr(t,(e=n-(e=r||void 0===e?1:B(e)))<0?0:e,n):[]},takeRightWhile:function(t,e){return t&&t.length?ko(t,qi(e),!1,!0):[]},takeWhile:function(t,e){return t&&t.length?ko(t,qi(e)):[]},union:xc,unionBy:Oc,unionWith:Ic,uniq:function(t){return t&&t.length?Rc(t):[]},uniqBy:function(t,e){return t&&t.length?Rc(t,qi(e)):[]},uniqWith:function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Rc(t,void 0,e):[]},unzip:Tc,unzipWith:Cc,without:Uc,xor:Dc,xorBy:Nc,xorWith:zc,zip:Fc,zipObject:function(t,e){return Yc(t||[],e||[],Xt)},zipObjectDeep:function(t,e){return Yc(t||[],e||[],Oa)},zipWith:qc},$c={countBy:eo,each:To,eachRight:Lo,every:function(t,e,r){var n=_(t)?Vo:Go;return r&&ue(t,e,r)&&(e=void 0),n(t,qi(e))},filter:function(t,e){return(_(t)?Nn:Ho)(t,qi(e))},find:tu,findLast:ou,flatMap:function(t,e){return yr(su(t,e),1)},flatMapDeep:function(t,e){return yr(su(t,e),Infinity)},flatMapDepth:function(t,e,r){return r=void 0===r?1:B(r),yr(su(t,e),r)},forEach:To,forEachRight:Lo,groupBy:vu,includes:function(t,e,r,n){t=oe(t)?t:Ru(t),r=r&&!n?B(r):0;var i=t.length;return r<0&&(r=xu(i+r,0)),Su(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Mt(t,e,r)>-1},invokeMap:Ku,keyBy:oa,map:su,orderBy:function(t,e,r,n){return null==t?[]:(_(e)||(e=null==e?[]:[e]),_(r=n?void 0:r)||(r=null==r?[]:[r]),Ta(t,e,r))},partition:ss,reduce:function(t,e,r){var n=_(t)?Jr:ks,i=arguments.length<3;return n(t,qi(e),r,i,Ji)},reduceRight:function(t,e,r){var n=_(t)?Ps:ks,i=arguments.length<3;return n(t,qi(e),r,i,Uo)},reject:function(t,e){return(_(t)?Nn:Ho)(t,wa(qi(e)))},sample:function(t){return(_(t)?Bs:Us)(t)},sampleSize:function(t,e,r){return e=(r?ue(t,e,r):void 0===e)?1:B(e),(_(t)?Ws:Ds)(t,e)},shuffle:function(t){return(_(t)?Ns:zs)(t)},size:function(t){if(null==t)return 0;if(oe(t))return Su(t)?Xa(t):t.length;var e=ii(t);return"[object Map]"==e||"[object Set]"==e?t.size:Me(t).length},some:function(t,e,r){var n=_(t)?wi:Ys;return r&&ue(t,e,r)&&(e=void 0),n(t,qi(e))},sortBy:qs},Vc=io,Gc={after:function(t,e){if("function"!=typeof e)throw new TypeError("Expected a function");return t=B(t),function(){if(--t<1)return e.apply(this,arguments)}},ary:Zt,before:Ir,bind:kr,bindKey:Tr,curry:ro,curryRight:no,debounce:ao,defer:wo,delay:Eo,flip:function(t){return Gt(t,512)},memoize:nr,negate:wa,once:function(t){return Ir(2,t)},overArgs:La,partial:us,partialRight:as,rearg:Is,rest:function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return ne(t,e=void 0===e?e:B(e))},spread:function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=null==e?0:Hs(B(e),0),ne((function(r){var n=r[e],i=Mr(r,0,e);return n&&pr(i,n),nt(t,this,i)}))},throttle:function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return O(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ao(t,e,{leading:n,maxWait:e,trailing:i})},unary:function(t){return Zt(t,1)},wrap:function(t,e){return us(Po(e),t)}},Zc={castArray:function(){if(!arguments.length)return[];var t=arguments[0];return _(t)?t:[t]},clone:function(t){return mi(t,4)},cloneDeep:function(t){return mi(t,5)},cloneDeepWith:function(t,e){return mi(t,5,e="function"==typeof e?e:void 0)},cloneWith:function(t,e){return mi(t,4,e="function"==typeof e?e:void 0)},conformsTo:function(t,e){return null==e||Ki(t,e,Be(e))},eq:Jt,gt:_u,gte:mu,isArguments:ve,isArray:_,isArrayBuffer:Vu,isArrayLike:oe,isArrayLikeObject:ho,isBoolean:function(t){return!0===t||!1===t||d(t)&&"[object Boolean]"==p(t)},isBuffer:be,isDate:Zu,isElement:function(t){return d(t)&&1===t.nodeType&&!Rr(t)},isEmpty:function(t){if(null==t)return!0;if(oe(t)&&(_(t)||"string"==typeof t||"function"==typeof t.splice||be(t)||Oe(t)||ve(t)))return!t.length;var e=ii(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(ce(t))return!Me(t).length;for(var r in t)if(Hu.call(t,r))return!1;return!0},isEqual:function(t,e){return Ti(t,e)},isEqualWith:function(t,e,r){var n=(r="function"==typeof r?r:void 0)?r(t,e):void 0;return void 0===n?Ti(t,e,void 0,r):!!n},isError:xr,isFinite:function(t){return"number"==typeof t&&Ju(t)},isFunction:L,isInteger:Qu,isLength:ie,isMap:vi,isMatch:function(t,e){return t===e||Ci(t,e,Bi(e))},isMatchWith:function(t,e,r){return r="function"==typeof r?r:void 0,Ci(t,e,Bi(e),r)},isNaN:function(t){return Xu(t)&&t!=+t},isNative:function(t){if(ta(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Z(t)},isNil:function(t){return null==t},isNull:function(t){return null===t},isNumber:Xu,isObject:O,isObjectLike:d,isPlainObject:Rr,isRegExp:ra,isSafeInteger:function(t){return Qu(t)&&t>=-9007199254740991&&t<=9007199254740991},isSet:gi,isString:Su,isSymbol:v,isTypedArray:Oe,isUndefined:function(t){return void 0===t},isWeakMap:function(t){return d(t)&&"[object WeakMap]"==ii(t)},isWeakSet:function(t){return d(t)&&"[object WeakSet]"==p(t)},lt:la,lte:ha,toArray:ja,toFinite:M,toInteger:B,toLength:Zo,toNumber:C,toPlainObject:vo,toSafeInteger:function(t){return t?Tn(B(t),-9007199254740991,9007199254740991):0===t?t:0},toString:ar},Hc={add:j,ceil:On,divide:Io,floor:cu,max:function(t){return t&&t.length?pa(t,U,yu):void 0},maxBy:function(t,e){return t&&t.length?pa(t,qi(e),yu):void 0},mean:function(t){return va(t,U)},meanBy:function(t,e){return va(t,qi(e))},min:function(t){return t&&t.length?pa(t,U,fa):void 0},minBy:function(t,e){return t&&t.length?pa(t,qi(e),fa):void 0},multiply:ba,round:Ms,subtract:Qs,sum:function(t){return t&&t.length?da(t,U):0},sumBy:function(t,e){return t&&t.length?da(t,qi(e)):0}},Jc=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=C(r))==r?r:0),void 0!==e&&(e=(e=C(e))==e?e:0),Tn(C(t),e,r)},Qc=function(t,e,r){return e=M(e),void 0===r?(r=e,e=0):r=M(r),function(t,e,r){return t>=ju(e,r)&&t<Eu(e,r)}(t=C(t),e,r)},Xc=function(t,e,r){if(r&&"boolean"!=typeof r&&ue(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=M(t),void 0===e?(e=t,t=0):e=M(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=js();return Es(t+i*(e-t+ws("1e-"+((i+"").length-1))),e)}return bs(t,e)},tf={assign:Le,assignIn:ze,assignInWith:Fe,assignWith:Ye,at:mr,create:function(t,e){var r=et(t);return null==e?r:Mn(r,e)},defaults:fo,defaultsDeep:mo,entries:Do,entriesIn:No,extend:ze,extendWith:Fe,findKey:function(t,e){return eu(t,qi(e),Zi)},findLastKey:function(t,e){return eu(t,qi(e),Bo)},forIn:function(t,e){return null==t?t:Gi(t,Po(e),Ne)},forInRight:function(t,e){return null==t?t:Mo(t,Po(e),Ne)},forOwn:function(t,e){return t&&Zi(t,Po(e))},forOwnRight:function(t,e){return t&&Bo(t,Po(e))},functions:function(t){return null==t?[]:pu(t,Be(t))},functionsIn:function(t){return null==t?[]:pu(t,Ne(t))},get:lr,has:function(t,e){return null!=t&&Di(t,e,wu)},hasIn:Ni,invert:Lu,invertBy:zu,invoke:qu,keys:Be,keysIn:Ne,mapKeys:function(t,e){var r={};return e=qi(e),Zi(t,(function(t,n,i){Ht(r,e(t,n,i),t)})),r},mapValues:function(t,e){var r={};return e=qi(e),Zi(t,(function(t,n,i){Ht(r,n,e(t,n,i))})),r},merge:ya,mergeWith:_o,omit:xa,omitBy:function(t,e){return ka(t,wa(qi(e)))},pick:cs,pickBy:ka,result:function(t,e,r){var n=-1,i=(e=sr(e,t)).length;for(i||(i=1,t=void 0);++n<i;){var o=null==t?void 0:t[cr(e[n])];void 0===o&&(n=i,o=r),t=L(o)?o.call(t):o}return t},set:function(t,e,r){return null==t?t:Oa(t,e,r)},setWith:function(t,e,r,n){return n="function"==typeof n?n:void 0,null==t?t:Oa(t,e,r,n)},toPairs:Do,toPairsIn:No,transform:function(t,e,r){var n=_(t),i=n||be(t)||Oe(t);if(e=qi(e),null==r){var o=t&&t.constructor;r=i?n?new o:[]:O(t)&&L(o)?et(br(t)):{}}return(i?Pt:Zi)(t,(function(t,n,i){return e(r,t,n,i)})),r},unset:function(t,e){return null==t||Aa(t,e)},update:function(t,e,r){return null==t?t:Mc(t,e,Po(r))},updateWith:function(t,e,r,n){return n="function"==typeof n?n:void 0,null==t?t:Mc(t,e,Po(r),n)},values:Ru,valuesIn:function(t){return null==t?[]:Au(t,Ne(t))}},ef={at:Lc,chain:In,commit:function(){return new yt(this.value(),this.__chain__)},lodash:bt,next:function(){void 0===this.__values__&&(this.__values__=ja(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},plant:function(t){for(var e,r=this;r instanceof ct;){var n=_t(r);n.__index__=0,n.__values__=void 0,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},reverse:function(){var t=this.__wrapped__;if(t instanceof ft){var e=t;return this.__actions__.length&&(e=new ft(this)),(e=e.reverse()).__actions__.push({func:dc,args:[Cs],thisArg:void 0}),new yt(e,this.__chain__)}return this.thru(Cs)},tap:function(t,e){return e(t),t},thru:dc,toIterator:function(){return this},toJSON:gc,value:gc,valueOf:gc,wrapperChain:function(){return In(this)}},rf={camelCase:Sn,capitalize:Hr,deburr:rn,endsWith:function(t,e,r){t=ar(t),e=w(e);var n=t.length,i=r=void 0===r?n:Tn(B(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},escape:qo,escapeRegExp:function(t){return(t=ar(t))&&$o.test(t)?t.replace(Ko,"\\$&"):t},kebabCase:ia,lowerCase:sa,lowerFirst:ca,pad:function(t,e,r){t=ar(t);var n=(e=B(e))?Xa(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return es(ns(i),r)+t+es(rs(i),r)},padEnd:function(t,e,r){t=ar(t);var n=(e=B(e))?Xa(t):0;return e&&n<e?t+es(e-n,r):t},padStart:function(t,e,r){t=ar(t);var n=(e=B(e))?Xa(t):0;return e&&n<e?es(e-n,r)+t:t},parseInt:function(t,e,r){return r||null==e?e=0:e&&(e=+e),os(ar(t).replace(is,""),e||0)},repeat:function(t,e,r){return e=(r?ue(t,e,r):void 0===e)?1:B(e),za(ar(t),e)},replace:function(){var t=arguments,e=ar(t[0]);return t.length<3?e:e.replace(t[1],t[2])},snakeCase:Fs,split:function(t,e,r){return r&&"number"!=typeof r&&ue(t,e,r)&&(e=r=void 0),(r=void 0===r?4294967295:r>>>0)?(t=ar(t))&&("string"==typeof e||null!=e&&!ra(e))&&!(e=w(e))&&Ur(t)?Mr(Vr(t),0,r):t.split(e,r):[]},startCase:Js,startsWith:function(t,e,r){return t=ar(t),r=null==r?0:Tn(B(r),0,t.length),e=w(e),t.slice(r,r+e.length)==e},template:function(t,e,r){var n=oc.imports._.templateSettings||oc;r&&ue(t,e,r)&&(e=void 0),t=ar(t),e=Fe({},e,n,ec);var i,o,u=Fe({},e.imports,n.imports,ec),a=Be(u),s=Au(u,a),c=0,f=e.interpolate||lc,l="__p += '",h=RegExp((e.escape||lc).source+"|"+f.source+"|"+(f===ic?fc:lc).source+"|"+(e.evaluate||lc).source+"|$","g"),p=pc.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,r,n,u,a,s){return n||(n=u),l+=t.slice(c,s).replace(hc,nc),r&&(i=!0,l+="' +\n__e("+r+") +\n'"),a&&(o=!0,l+="';\n"+a+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=s+e.length,e})),l+="';\n";var d=pc.call(e,"variable")&&e.variable;if(d){if(cc.test(d))throw new Error("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(o?l.replace(uc,""):l).replace(ac,"$1").replace(sc,"$1;"),l="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Or((function(){return Function(a,p+"return "+l).apply(void 0,s)}));if(v.source=l,xr(v))throw v;return v},templateSettings:oc,toLower:function(t){return ar(t).toLowerCase()},toUpper:function(t){return ar(t).toUpperCase()},trim:function(t,e,r){if((t=ar(t))&&(r||void 0===e))return x(t);if(!t||!(e=w(e)))return t;var n=Vr(t),i=Vr(e);return Mr(n,mc(n,i),_c(n,i)+1).join("")},trimEnd:function(t,e,r){if((t=ar(t))&&(r||void 0===e))return t.slice(0,A(t)+1);if(!t||!(e=w(e)))return t;var n=Vr(t);return Mr(n,0,_c(n,Vr(e))+1).join("")},trimStart:function(t,e,r){if((t=ar(t))&&(r||void 0===e))return t.replace(bc,"");if(!t||!(e=w(e)))return t;var n=Vr(t);return Mr(n,mc(n,Vr(e))).join("")},truncate:function(t,e){var r=30,n="...";if(O(e)){var i="separator"in e?e.separator:i;r="length"in e?B(e.length):r,n="omission"in e?w(e.omission):n}var o=(t=ar(t)).length;if(Ur(t)){var u=Vr(t);o=u.length}if(r>=o)return t;var a=r-Xa(n);if(a<1)return n;var s=u?Mr(u,0,a).join(""):t.slice(0,a);if(void 0===i)return s+n;if(u&&(a+=s.length-a),ra(i)){if(t.slice(a).search(i)){var c,f=s;for(i.global||(i=RegExp(i.source,ar(wc.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var l=c.index;s=s.slice(0,void 0===l?a:l)}}else if(t.indexOf(w(i),a)!=a){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+n},unescape:function(t){return(t=ar(t))&&Sc.test(t)?t.replace(jc,Ec):t},upperCase:Bc,upperFirst:Zr,words:wn},nf={attempt:Or,bindAll:Pr,cond:function(t){var e=null==t?0:t.length,r=qi;return t=e?g(t,(function(t){if("function"!=typeof t[1])throw new TypeError("Expected a function");return[r(t[0]),t[1]]})):[],ne((function(r){for(var n=-1;++n<e;){var i=t[n];if(nt(i[0],this,r))return nt(i[1],this,r)}}))},conforms:function(t){return function(t){var e=Be(t);return function(r){return Ki(r,t,e)}}(mi(t,1))},constant:Ot,defaultTo:function(t,e){return null==t||t!=t?e:t},flow:lu,flowRight:hu,identity:U,iteratee:function(t){return qi("function"==typeof t?t:mi(t,1))},matches:function(t){return Li(mi(t,1))},matchesProperty:function(t,e){return zi(t,mi(e,1))},method:ga,methodOf:_a,mixin:ma,noop:lt,nthArg:function(t){return t=B(t),ne((function(e){return Sa(e,t)}))},over:Ma,overEvery:Wa,overSome:Da,property:Yi,propertyOf:function(t){return function(e){return null==t?void 0:fr(t,e)}},range:xs,rangeRight:Os,stubArray:zn,stubFalse:ye,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(t,e){if((t=B(t))<1||t>9007199254740991)return[];var r=4294967295,n=vc(t,4294967295);t-=4294967295;for(var i=fe(n,e=Po(e));++r<t;)e(r);return i},toPath:function(t){return _(t)?g(t,cr):v(t)?[t]:gt(ur(ar(t)))},uniqueId:function(t){var e=++kc;return ar(t)+e}};var of=Math.max,uf=Math.min;var af=Math.min;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var sf,cf=Array.prototype,ff=Object.prototype.hasOwnProperty,lf=u?u.iterator:void 0,hf=Math.max,pf=Math.min,df=function(t){return function(e,r,n){if(null==n){var i=O(r),o=i&&Be(r),u=o&&o.length&&pu(r,o);(u?u.length:i)||(n=r,r=e,e=this)}return t(e,r,n)}}(ma);bt.after=Gc.after,bt.ary=Gc.ary,bt.assign=tf.assign,bt.assignIn=tf.assignIn,bt.assignInWith=tf.assignInWith,bt.assignWith=tf.assignWith,bt.at=tf.at,bt.before=Gc.before,bt.bind=Gc.bind,bt.bindAll=nf.bindAll,bt.bindKey=Gc.bindKey,bt.castArray=Zc.castArray,bt.chain=ef.chain,bt.chunk=Kc.chunk,bt.compact=Kc.compact,bt.concat=Kc.concat,bt.cond=nf.cond,bt.conforms=nf.conforms,bt.constant=nf.constant,bt.countBy=$c.countBy,bt.create=tf.create,bt.curry=Gc.curry,bt.curryRight=Gc.curryRight,bt.debounce=Gc.debounce,bt.defaults=tf.defaults,bt.defaultsDeep=tf.defaultsDeep,bt.defer=Gc.defer,bt.delay=Gc.delay,bt.difference=Kc.difference,bt.differenceBy=Kc.differenceBy,bt.differenceWith=Kc.differenceWith,bt.drop=Kc.drop,bt.dropRight=Kc.dropRight,bt.dropRightWhile=Kc.dropRightWhile,bt.dropWhile=Kc.dropWhile,bt.fill=Kc.fill,bt.filter=$c.filter,bt.flatMap=$c.flatMap,bt.flatMapDeep=$c.flatMapDeep,bt.flatMapDepth=$c.flatMapDepth,bt.flatten=Kc.flatten,bt.flattenDeep=Kc.flattenDeep,bt.flattenDepth=Kc.flattenDepth,bt.flip=Gc.flip,bt.flow=nf.flow,bt.flowRight=nf.flowRight,bt.fromPairs=Kc.fromPairs,bt.functions=tf.functions,bt.functionsIn=tf.functionsIn,bt.groupBy=$c.groupBy,bt.initial=Kc.initial,bt.intersection=Kc.intersection,bt.intersectionBy=Kc.intersectionBy,bt.intersectionWith=Kc.intersectionWith,bt.invert=tf.invert,bt.invertBy=tf.invertBy,bt.invokeMap=$c.invokeMap,bt.iteratee=nf.iteratee,bt.keyBy=$c.keyBy,bt.keys=Be,bt.keysIn=tf.keysIn,bt.map=$c.map,bt.mapKeys=tf.mapKeys,bt.mapValues=tf.mapValues,bt.matches=nf.matches,bt.matchesProperty=nf.matchesProperty,bt.memoize=Gc.memoize,bt.merge=tf.merge,bt.mergeWith=tf.mergeWith,bt.method=nf.method,bt.methodOf=nf.methodOf,bt.mixin=df,bt.negate=wa,bt.nthArg=nf.nthArg,bt.omit=tf.omit,bt.omitBy=tf.omitBy,bt.once=Gc.once,bt.orderBy=$c.orderBy,bt.over=nf.over,bt.overArgs=Gc.overArgs,bt.overEvery=nf.overEvery,bt.overSome=nf.overSome,bt.partial=Gc.partial,bt.partialRight=Gc.partialRight,bt.partition=$c.partition,bt.pick=tf.pick,bt.pickBy=tf.pickBy,bt.property=nf.property,bt.propertyOf=nf.propertyOf,bt.pull=Kc.pull,bt.pullAll=Kc.pullAll,bt.pullAllBy=Kc.pullAllBy,bt.pullAllWith=Kc.pullAllWith,bt.pullAt=Kc.pullAt,bt.range=nf.range,bt.rangeRight=nf.rangeRight,bt.rearg=Gc.rearg,bt.reject=$c.reject,bt.remove=Kc.remove,bt.rest=Gc.rest,bt.reverse=Kc.reverse,bt.sampleSize=$c.sampleSize,bt.set=tf.set,bt.setWith=tf.setWith,bt.shuffle=$c.shuffle,bt.slice=Kc.slice,bt.sortBy=$c.sortBy,bt.sortedUniq=Kc.sortedUniq,bt.sortedUniqBy=Kc.sortedUniqBy,bt.split=rf.split,bt.spread=Gc.spread,bt.tail=Kc.tail,bt.take=Kc.take,bt.takeRight=Kc.takeRight,bt.takeRightWhile=Kc.takeRightWhile,bt.takeWhile=Kc.takeWhile,bt.tap=ef.tap,bt.throttle=Gc.throttle,bt.thru=dc,bt.toArray=Zc.toArray,bt.toPairs=tf.toPairs,bt.toPairsIn=tf.toPairsIn,bt.toPath=nf.toPath,bt.toPlainObject=Zc.toPlainObject,bt.transform=tf.transform,bt.unary=Gc.unary,bt.union=Kc.union,bt.unionBy=Kc.unionBy,bt.unionWith=Kc.unionWith,bt.uniq=Kc.uniq,bt.uniqBy=Kc.uniqBy,bt.uniqWith=Kc.uniqWith,bt.unset=tf.unset,bt.unzip=Kc.unzip,bt.unzipWith=Kc.unzipWith,bt.update=tf.update,bt.updateWith=tf.updateWith,bt.values=tf.values,bt.valuesIn=tf.valuesIn,bt.without=Kc.without,bt.words=rf.words,bt.wrap=Gc.wrap,bt.xor=Kc.xor,bt.xorBy=Kc.xorBy,bt.xorWith=Kc.xorWith,bt.zip=Kc.zip,bt.zipObject=Kc.zipObject,bt.zipObjectDeep=Kc.zipObjectDeep,bt.zipWith=Kc.zipWith,bt.entries=tf.toPairs,bt.entriesIn=tf.toPairsIn,bt.extend=tf.assignIn,bt.extendWith=tf.assignInWith,df(bt,bt),bt.add=Hc.add,bt.attempt=nf.attempt,bt.camelCase=rf.camelCase,bt.capitalize=rf.capitalize,bt.ceil=Hc.ceil,bt.clamp=Jc,bt.clone=Zc.clone,bt.cloneDeep=Zc.cloneDeep,bt.cloneDeepWith=Zc.cloneDeepWith,bt.cloneWith=Zc.cloneWith,bt.conformsTo=Zc.conformsTo,bt.deburr=rf.deburr,bt.defaultTo=nf.defaultTo,bt.divide=Hc.divide,bt.endsWith=rf.endsWith,bt.eq=Zc.eq,bt.escape=rf.escape,bt.escapeRegExp=rf.escapeRegExp,bt.every=$c.every,bt.find=$c.find,bt.findIndex=Kc.findIndex,bt.findKey=tf.findKey,bt.findLast=$c.findLast,bt.findLastIndex=Kc.findLastIndex,bt.findLastKey=tf.findLastKey,bt.floor=Hc.floor,bt.forEach=$c.forEach,bt.forEachRight=$c.forEachRight,bt.forIn=tf.forIn,bt.forInRight=tf.forInRight,bt.forOwn=tf.forOwn,bt.forOwnRight=tf.forOwnRight,bt.get=tf.get,bt.gt=Zc.gt,bt.gte=Zc.gte,bt.has=tf.has,bt.hasIn=tf.hasIn,bt.head=Kc.head,bt.identity=U,bt.includes=$c.includes,bt.indexOf=Kc.indexOf,bt.inRange=Qc,bt.invoke=tf.invoke,bt.isArguments=Zc.isArguments,bt.isArray=_,bt.isArrayBuffer=Zc.isArrayBuffer,bt.isArrayLike=Zc.isArrayLike,bt.isArrayLikeObject=Zc.isArrayLikeObject,bt.isBoolean=Zc.isBoolean,bt.isBuffer=Zc.isBuffer,bt.isDate=Zc.isDate,bt.isElement=Zc.isElement,bt.isEmpty=Zc.isEmpty,bt.isEqual=Zc.isEqual,bt.isEqualWith=Zc.isEqualWith,bt.isError=Zc.isError,bt.isFinite=Zc.isFinite,bt.isFunction=Zc.isFunction,bt.isInteger=Zc.isInteger,bt.isLength=Zc.isLength,bt.isMap=Zc.isMap,bt.isMatch=Zc.isMatch,bt.isMatchWith=Zc.isMatchWith,bt.isNaN=Zc.isNaN,bt.isNative=Zc.isNative,bt.isNil=Zc.isNil,bt.isNull=Zc.isNull,bt.isNumber=Zc.isNumber,bt.isObject=O,bt.isObjectLike=Zc.isObjectLike,bt.isPlainObject=Zc.isPlainObject,bt.isRegExp=Zc.isRegExp,bt.isSafeInteger=Zc.isSafeInteger,bt.isSet=Zc.isSet,bt.isString=Zc.isString,bt.isSymbol=Zc.isSymbol,bt.isTypedArray=Zc.isTypedArray,bt.isUndefined=Zc.isUndefined,bt.isWeakMap=Zc.isWeakMap,bt.isWeakSet=Zc.isWeakSet,bt.join=Kc.join,bt.kebabCase=rf.kebabCase,bt.last=Ro,bt.lastIndexOf=Kc.lastIndexOf,bt.lowerCase=rf.lowerCase,bt.lowerFirst=rf.lowerFirst,bt.lt=Zc.lt,bt.lte=Zc.lte,bt.max=Hc.max,bt.maxBy=Hc.maxBy,bt.mean=Hc.mean,bt.meanBy=Hc.meanBy,bt.min=Hc.min,bt.minBy=Hc.minBy,bt.stubArray=nf.stubArray,bt.stubFalse=nf.stubFalse,bt.stubObject=nf.stubObject,bt.stubString=nf.stubString,bt.stubTrue=nf.stubTrue,bt.multiply=Hc.multiply,bt.nth=Kc.nth,bt.noop=nf.noop,bt.now=Vc,bt.pad=rf.pad,bt.padEnd=rf.padEnd,bt.padStart=rf.padStart,bt.parseInt=rf.parseInt,bt.random=Xc,bt.reduce=$c.reduce,bt.reduceRight=$c.reduceRight,bt.repeat=rf.repeat,bt.replace=rf.replace,bt.result=tf.result,bt.round=Hc.round,bt.sample=$c.sample,bt.size=$c.size,bt.snakeCase=rf.snakeCase,bt.some=$c.some,bt.sortedIndex=Kc.sortedIndex,bt.sortedIndexBy=Kc.sortedIndexBy,bt.sortedIndexOf=Kc.sortedIndexOf,bt.sortedLastIndex=Kc.sortedLastIndex,bt.sortedLastIndexBy=Kc.sortedLastIndexBy,bt.sortedLastIndexOf=Kc.sortedLastIndexOf,bt.startCase=rf.startCase,bt.startsWith=rf.startsWith,bt.subtract=Hc.subtract,bt.sum=Hc.sum,bt.sumBy=Hc.sumBy,bt.template=rf.template,bt.times=nf.times,bt.toFinite=Zc.toFinite,bt.toInteger=B,bt.toLength=Zc.toLength,bt.toLower=rf.toLower,bt.toNumber=Zc.toNumber,bt.toSafeInteger=Zc.toSafeInteger,bt.toString=Zc.toString,bt.toUpper=rf.toUpper,bt.trim=rf.trim,bt.trimEnd=rf.trimEnd,bt.trimStart=rf.trimStart,bt.truncate=rf.truncate,bt.unescape=rf.unescape,bt.uniqueId=nf.uniqueId,bt.upperCase=rf.upperCase,bt.upperFirst=rf.upperFirst,bt.each=$c.forEach,bt.eachRight=$c.forEachRight,bt.first=Kc.head,df(bt,(sf={},Zi(bt,(function(t,e){ff.call(bt.prototype,e)||(sf[e]=t)})),sf),{chain:!1}),bt.VERSION="4.17.21",(bt.templateSettings=rf.templateSettings).imports._=bt,Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){bt[t].placeholder=bt})),Pt(["drop","take"],(function(t,e){ft.prototype[t]=function(r){r=void 0===r?1:hf(B(r),0);var n=this.__filtered__&&!e?new ft(this):this.clone();return n.__filtered__?n.__takeCount__=pf(r,n.__takeCount__):n.__views__.push({size:pf(r,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},ft.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Pt(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;ft.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:qi(t),type:r}),e.__filtered__=e.__filtered__||n,e}})),Pt(["head","last"],(function(t,e){var r="take"+(e?"Right":"");ft.prototype[t]=function(){return this[r](1).value()[0]}})),Pt(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");ft.prototype[t]=function(){return this.__filtered__?new ft(this):this[r](1)}})),ft.prototype.compact=function(){return this.filter(U)},ft.prototype.find=function(t){return this.filter(t).head()},ft.prototype.findLast=function(t){return this.reverse().find(t)},ft.prototype.invokeMap=ne((function(t,e){return"function"==typeof t?new ft(this):this.map((function(r){return Yu(r,t,e)}))})),ft.prototype.reject=function(t){return this.filter(wa(qi(t)))},ft.prototype.slice=function(t,e){t=B(t);var r=this;return r.__filtered__&&(t>0||e<0)?new ft(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),void 0!==e&&(r=(e=B(e))<0?r.dropRight(-e):r.take(e-t)),r)},ft.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ft.prototype.toArray=function(){return this.take(4294967295)},Zi(ft.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=bt[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);i&&(bt.prototype[e]=function(){var e=this.__wrapped__,u=n?[1]:arguments,a=e instanceof ft,s=u[0],c=a||_(e),f=function(t){var e=i.apply(bt,pr([t],u));return n&&l?e[0]:e};c&&r&&"function"==typeof s&&1!=s.length&&(a=c=!1);var l=this.__chain__,h=!!this.__actions__.length,p=o&&!l,d=a&&!h;if(!o&&c){e=d?e:new ft(this);var v=t.apply(e,u);return v.__actions__.push({func:dc,args:[f],thisArg:void 0}),new yt(v,l)}return p&&d?t.apply(this,u):(v=this.thru(f),p?n?v.value()[0]:v.value():v)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(t){var e=cf[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);bt.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(_(i)?i:[],t)}return this[r]((function(r){return e.apply(_(r)?r:[],t)}))}})),Zi(ft.prototype,(function(t,e){var r=bt[e];if(r){var n=r.name+"";ff.call(pt,n)||(pt[n]=[]),pt[n].push({name:e,func:r})}})),pt[Kt(void 0,2).name]=[{name:"wrapper",func:void 0}],ft.prototype.clone=function(){var t=new ft(this.__wrapped__);return t.__actions__=gt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gt(this.__views__),t},ft.prototype.reverse=function(){if(this.__filtered__){var t=new ft(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ft.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=_(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=uf(e,t+u);break;case"takeRight":t=of(t,e-u)}}return{start:t,end:e}}(0,i,this.__views__),u=o.start,a=o.end,s=a-u,c=n?a:u-1,f=this.__iteratees__,l=f.length,h=0,p=af(s,this.__takeCount__);if(!r||!n&&i==s&&p==s)return yc(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var v=-1,y=t[c+=e];++v<l;){var g=f[v],m=g.iteratee,b=g.type,w=m(y);if(2==b)y=w;else if(!w){if(1==b)continue t;break t}}d[h++]=y}return d},bt.prototype.at=ef.at,bt.prototype.chain=ef.wrapperChain,bt.prototype.commit=ef.commit,bt.prototype.next=ef.next,bt.prototype.plant=ef.plant,bt.prototype.reverse=ef.reverse,bt.prototype.toJSON=bt.prototype.valueOf=bt.prototype.value=ef.value,bt.prototype.first=bt.prototype.head,lf&&(bt.prototype[lf]=ef.toIterator);var vf=protobuf,yf={nested:{krpc:{nested:{schema:{options:{csharp_namespace:"KRPC.Schema.KRPC",java_package:"krpc.schema",java_outer_classname:"KRPC",objc_class_prefix:"KRPC"},nested:{ConnectionRequest:{fields:{type:{type:"Type",id:1},clientName:{type:"string",id:2},clientIdentifier:{type:"bytes",id:3}},nested:{Type:{values:{RPC:0,STREAM:1}}}},ConnectionResponse:{fields:{status:{type:"Status",id:1},message:{type:"string",id:2},clientIdentifier:{type:"bytes",id:3}},nested:{Status:{values:{OK:0,MALFORMED_MESSAGE:1,TIMEOUT:2,WRONG_TYPE:3}}}},Request:{fields:{calls:{rule:"repeated",type:"ProcedureCall",id:1}}},ProcedureCall:{fields:{service:{type:"string",id:1},procedure:{type:"string",id:2},serviceId:{type:"uint32",id:4},procedureId:{type:"uint32",id:5},arguments:{rule:"repeated",type:"Argument",id:3}}},Argument:{fields:{position:{type:"uint32",id:1},value:{type:"bytes",id:2}}},Response:{fields:{error:{type:"Error",id:1},results:{rule:"repeated",type:"ProcedureResult",id:2}}},ProcedureResult:{fields:{error:{type:"Error",id:1},value:{type:"bytes",id:2}}},Error:{fields:{service:{type:"string",id:1},name:{type:"string",id:2},description:{type:"string",id:3},stackTrace:{type:"string",id:4}}},StreamUpdate:{fields:{results:{rule:"repeated",type:"StreamResult",id:1}}},StreamResult:{fields:{id:{type:"uint64",id:1},result:{type:"ProcedureResult",id:2}}},Services:{fields:{services:{rule:"repeated",type:"Service",id:1}}},Service:{fields:{name:{type:"string",id:1},procedures:{rule:"repeated",type:"Procedure",id:2},classes:{rule:"repeated",type:"Class",id:3},enumerations:{rule:"repeated",type:"Enumeration",id:4},exceptions:{rule:"repeated",type:"Exception",id:5},documentation:{type:"string",id:6}}},Procedure:{fields:{name:{type:"string",id:1},parameters:{rule:"repeated",type:"Parameter",id:2},returnType:{type:"Type",id:3},returnIsNullable:{type:"bool",id:4},gameScenes:{rule:"repeated",type:"GameScene",id:6},documentation:{type:"string",id:5}},nested:{GameScene:{values:{SPACE_CENTER:0,FLIGHT:1,TRACKING_STATION:2,EDITOR_VAB:3,EDITOR_SPH:4,MISSION_BUILDER:5}}}},Parameter:{fields:{name:{type:"string",id:1},type:{type:"Type",id:2},defaultValue:{type:"bytes",id:3}}},Class:{fields:{name:{type:"string",id:1},documentation:{type:"string",id:2}}},Enumeration:{fields:{name:{type:"string",id:1},values:{rule:"repeated",type:"EnumerationValue",id:2},documentation:{type:"string",id:3}}},EnumerationValue:{fields:{name:{type:"string",id:1},value:{type:"int32",id:2},documentation:{type:"string",id:3}}},Exception:{fields:{name:{type:"string",id:1},documentation:{type:"string",id:2}}},Type:{fields:{code:{type:"TypeCode",id:1},service:{type:"string",id:2},name:{type:"string",id:3},types:{rule:"repeated",type:"Type",id:4}},nested:{TypeCode:{values:{NONE:0,DOUBLE:1,FLOAT:2,SINT32:3,SINT64:4,UINT32:5,UINT64:6,BOOL:7,STRING:8,BYTES:9,CLASS:100,ENUMERATION:101,EVENT:200,PROCEDURE_CALL:201,STREAM:202,STATUS:203,SERVICES:204,TUPLE:300,LIST:301,SET:302,DICTIONARY:303}}}},Tuple:{fields:{items:{rule:"repeated",type:"bytes",id:1}}},List:{fields:{items:{rule:"repeated",type:"bytes",id:1}}},Set:{fields:{items:{rule:"repeated",type:"bytes",id:1}}},Dictionary:{fields:{entries:{rule:"repeated",type:"DictionaryEntry",id:1}}},DictionaryEntry:{fields:{key:{type:"bytes",id:1},value:{type:"bytes",id:2}}},Stream:{fields:{id:{type:"uint64",id:1}}},Event:{fields:{stream:{type:"Stream",id:1}}},Status:{fields:{version:{type:"string",id:1},bytesRead:{type:"uint64",id:2},bytesWritten:{type:"uint64",id:3},bytesReadRate:{type:"float",id:4},bytesWrittenRate:{type:"float",id:5},rpcsExecuted:{type:"uint64",id:6},rpcRate:{type:"float",id:7},oneRpcPerUpdate:{type:"bool",id:8},maxTimePerUpdate:{type:"uint32",id:9},adaptiveRateControl:{type:"bool",id:10},blockingRecv:{type:"bool",id:11},recvTimeout:{type:"uint32",id:12},timePerRpcUpdate:{type:"float",id:13},pollTimePerRpcUpdate:{type:"float",id:14},execTimePerRpcUpdate:{type:"float",id:15},streamRpcs:{type:"uint32",id:16},streamRpcsExecuted:{type:"uint64",id:17},streamRpcRate:{type:"float",id:18},timePerStreamUpdate:{type:"float",id:19}}},MultiplexedRequest:{fields:{connectionRequest:{type:"ConnectionRequest",id:1},request:{type:"Request",id:2}}},MultiplexedResponse:{fields:{response:{type:"Response",id:1},streamUpdate:{type:"StreamUpdate",id:2}}}}}}}}};let gf=null;const _f={load:async function(){gf=vf.Root.fromJSON(yf).lookup("krpc").nested.schema,Object.keys(gf).forEach((function(t){_f[t]=gf[t]}))},root:function(){return gf}};var mf=[],bf=[],wf="undefined"!=typeof Uint8Array?Uint8Array:Array,Ef=!1;function jf(){Ef=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)mf[e]=t[e],bf[t.charCodeAt(e)]=e;bf["-".charCodeAt(0)]=62,bf["_".charCodeAt(0)]=63}function Sf(t,e,r){for(var n,i,o=[],u=e;u<r;u+=3)n=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o.push(mf[(i=n)>>18&63]+mf[i>>12&63]+mf[i>>6&63]+mf[63&i]);return o.join("")}function Af(t){var e;Ef||jf();for(var r=t.length,n=r%3,i="",o=[],u=16383,a=0,s=r-n;a<s;a+=u)o.push(Sf(t,a,a+u>s?s:a+u));return 1===n?(e=t[r-1],i+=mf[e>>2],i+=mf[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=mf[e>>10],i+=mf[e>>4&63],i+=mf[e<<2&63],i+="="),o.push(i),o.join("")}function Rf(t,e,r,n,i){var o,u,a=8*i-n-1,s=(1<<a)-1,c=s>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=n;f>0;u=256*u+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===s)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,n),o-=c}return(p?-1:1)*u*Math.pow(2,o-n)}function xf(t,e,r,n,i,o){var u,a,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,u=f):(u=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-u))<1&&(u--,s*=2),(e+=u+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(u++,s/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(e*s-1)*Math.pow(2,i),u+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),u=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(u=u<<i|a,c+=i;c>0;t[r+p]=255&u,p+=d,u/=256,c-=8);t[r+p-d]|=128*v}var Of={}.toString,If=Array.isArray||function(t){return"[object Array]"==Of.call(t)};function kf(){return Tf.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Pf(t,e){if(kf()<e)throw new RangeError("Invalid typed array length");return Tf.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Tf.prototype:(null===t&&(t=new Tf(e)),t.length=e),t}function Tf(t,e,r){if(!(Tf.TYPED_ARRAY_SUPPORT||this instanceof Tf))return new Tf(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Bf(this,t)}return Cf(this,t,e,r)}function Cf(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Tf.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Tf.prototype:t=Uf(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Tf.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Df(e,r),i=(t=Pf(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(Wf(e)){var r=0|Lf(e.length);return 0===(t=Pf(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?Pf(t,0):Uf(t,e);if("Buffer"===e.type&&If(e.data))return Uf(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Mf(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Bf(t,e){if(Mf(e),t=Pf(t,e<0?0:0|Lf(e)),!Tf.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function Uf(t,e){var r=e.length<0?0:0|Lf(e.length);t=Pf(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function Lf(t){if(t>=kf())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kf().toString(16)+" bytes");return 0|t}function Wf(t){return!(null==t||!t._isBuffer)}function Df(t,e){if(Wf(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return ll(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return hl(t).length;default:if(n)return ll(t).length;e=(""+e).toLowerCase(),n=!0}}function Nf(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return tl(this,e,r);case"utf8":case"utf-8":return Jf(this,e,r);case"ascii":return Qf(this,e,r);case"latin1":case"binary":return Xf(this,e,r);case"base64":return Hf(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return el(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function zf(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Ff(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=Tf.from(e,n)),Wf(e))return 0===e.length?-1:Yf(t,e,r,n,i);if("number"==typeof e)return e&=255,Tf.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Yf(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Yf(t,e,r,n,i){var o,u=1,a=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;u=2,a/=2,s/=2,r/=2}function c(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*u}else-1!==f&&(o-=o-f),f=-1}else for(r+s>a&&(r=a-s),o=r;o>=0;o--){for(var l=!0,h=0;h<s;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function qf(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var a=parseInt(e.substr(2*u,2),16);if(isNaN(a))return u;t[r+u]=a}return u}function Kf(t,e,r,n){return pl(ll(e,t.length-r),t,r,n)}function $f(t,e,r,n){return pl(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function Vf(t,e,r,n){return $f(t,e,r,n)}function Gf(t,e,r,n){return pl(hl(e),t,r,n)}function Zf(t,e,r,n){return pl(function(t,e){for(var r,n,i,o=[],u=0;u<t.length&&!((e-=2)<0);++u)n=(r=t.charCodeAt(u))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function Hf(t,e,r){return 0===e&&r===t.length?Af(t):Af(t.slice(e,r))}function Jf(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,u,a,s,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&c)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[i+1],u=t[i+2],a=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&a)&&(s=(15&c)<<18|(63&o)<<12|(63&u)<<6|63&a)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}Tf.TYPED_ARRAY_SUPPORT=void 0===r.TYPED_ARRAY_SUPPORT||r.TYPED_ARRAY_SUPPORT,kf(),Tf.poolSize=8192,Tf._augment=function(t){return t.__proto__=Tf.prototype,t},Tf.from=function(t,e,r){return Cf(null,t,e,r)},Tf.TYPED_ARRAY_SUPPORT&&(Tf.prototype.__proto__=Uint8Array.prototype,Tf.__proto__=Uint8Array),Tf.alloc=function(t,e,r){return function(t,e,r,n){return Mf(e),e<=0?Pf(t,e):void 0!==r?"string"==typeof n?Pf(t,e).fill(r,n):Pf(t,e).fill(r):Pf(t,e)}(null,t,e,r)},Tf.allocUnsafe=function(t){return Bf(null,t)},Tf.allocUnsafeSlow=function(t){return Bf(null,t)},Tf.isBuffer=function(t){return null!=t&&(!!t._isBuffer||dl(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&dl(t.slice(0,0))}(t))},Tf.compare=function(t,e){if(!Wf(t)||!Wf(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Tf.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Tf.concat=function(t,e){if(!If(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Tf.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Tf.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!Wf(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Tf.byteLength=Df,Tf.prototype._isBuffer=!0,Tf.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)zf(this,e,e+1);return this},Tf.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)zf(this,e,e+3),zf(this,e+1,e+2);return this},Tf.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)zf(this,e,e+7),zf(this,e+1,e+6),zf(this,e+2,e+5),zf(this,e+3,e+4);return this},Tf.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Jf(this,0,t):Nf.apply(this,arguments)},Tf.prototype.equals=function(t){if(!Wf(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Tf.compare(this,t)},Tf.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Tf.prototype.compare=function(t,e,r,n,i){if(!Wf(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(r>>>=0)-(e>>>=0),a=Math.min(o,u),s=this.slice(n,i),c=t.slice(e,r),f=0;f<a;++f)if(s[f]!==c[f]){o=s[f],u=c[f];break}return o<u?-1:u<o?1:0},Tf.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Tf.prototype.indexOf=function(t,e,r){return Ff(this,t,e,r,!0)},Tf.prototype.lastIndexOf=function(t,e,r){return Ff(this,t,e,r,!1)},Tf.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return qf(this,t,e,r);case"utf8":case"utf-8":return Kf(this,t,e,r);case"ascii":return $f(this,t,e,r);case"latin1":case"binary":return Vf(this,t,e,r);case"base64":return Gf(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zf(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Tf.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qf(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function Xf(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function tl(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=fl(t[o]);return i}function el(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function rl(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function nl(t,e,r,n,i,o){if(!Wf(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function il(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function ol(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function ul(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function al(t,e,r,n,i){return i||ul(t,0,r,4),xf(t,e,r,n,23,4),r+4}function sl(t,e,r,n,i){return i||ul(t,0,r,8),xf(t,e,r,n,52,8),r+8}Tf.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Tf.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Tf.prototype;else{var i=e-t;r=new Tf(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},Tf.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||rl(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},Tf.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||rl(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Tf.prototype.readUInt8=function(t,e){return e||rl(t,1,this.length),this[t]},Tf.prototype.readUInt16LE=function(t,e){return e||rl(t,2,this.length),this[t]|this[t+1]<<8},Tf.prototype.readUInt16BE=function(t,e){return e||rl(t,2,this.length),this[t]<<8|this[t+1]},Tf.prototype.readUInt32LE=function(t,e){return e||rl(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Tf.prototype.readUInt32BE=function(t,e){return e||rl(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Tf.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||rl(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Tf.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||rl(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Tf.prototype.readInt8=function(t,e){return e||rl(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Tf.prototype.readInt16LE=function(t,e){e||rl(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Tf.prototype.readInt16BE=function(t,e){e||rl(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Tf.prototype.readInt32LE=function(t,e){return e||rl(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Tf.prototype.readInt32BE=function(t,e){return e||rl(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Tf.prototype.readFloatLE=function(t,e){return e||rl(t,4,this.length),Rf(this,t,!0,23,4)},Tf.prototype.readFloatBE=function(t,e){return e||rl(t,4,this.length),Rf(this,t,!1,23,4)},Tf.prototype.readDoubleLE=function(t,e){return e||rl(t,8,this.length),Rf(this,t,!0,52,8)},Tf.prototype.readDoubleBE=function(t,e){return e||rl(t,8,this.length),Rf(this,t,!1,52,8)},Tf.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||nl(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Tf.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||nl(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Tf.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,1,255,0),Tf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Tf.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,2,65535,0),Tf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):il(this,t,e,!0),e+2},Tf.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,2,65535,0),Tf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):il(this,t,e,!1),e+2},Tf.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,4,4294967295,0),Tf.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):ol(this,t,e,!0),e+4},Tf.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,4,4294967295,0),Tf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ol(this,t,e,!1),e+4},Tf.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);nl(this,t,e,r,i-1,-i)}var o=0,u=1,a=0;for(this[e]=255&t;++o<r&&(u*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+r},Tf.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);nl(this,t,e,r,i-1,-i)}var o=r-1,u=1,a=0;for(this[e+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+r},Tf.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,1,127,-128),Tf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Tf.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,2,32767,-32768),Tf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):il(this,t,e,!0),e+2},Tf.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,2,32767,-32768),Tf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):il(this,t,e,!1),e+2},Tf.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,4,2147483647,-2147483648),Tf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):ol(this,t,e,!0),e+4},Tf.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||nl(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Tf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ol(this,t,e,!1),e+4},Tf.prototype.writeFloatLE=function(t,e,r){return al(this,t,e,!0,r)},Tf.prototype.writeFloatBE=function(t,e,r){return al(this,t,e,!1,r)},Tf.prototype.writeDoubleLE=function(t,e,r){return sl(this,t,e,!0,r)},Tf.prototype.writeDoubleBE=function(t,e,r){return sl(this,t,e,!1,r)},Tf.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!Tf.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Tf.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Tf.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var u=Wf(t)?t:ll(new Tf(t,n).toString()),a=u.length;for(o=0;o<r-e;++o)this[o+e]=u[o%a]}return this};var cl=/[^+\/0-9A-Za-z-_]/g;function fl(t){return t<16?"0"+t.toString(16):t.toString(16)}function ll(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((r=t.charCodeAt(u))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function hl(t){return function(t){var e,r,n,i,o,u;Ef||jf();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,u=new wf(3*a/4-o),n=o>0?a-4:a;var s=0;for(e=0,r=0;e<n;e+=4,r+=3)i=bf[t.charCodeAt(e)]<<18|bf[t.charCodeAt(e+1)]<<12|bf[t.charCodeAt(e+2)]<<6|bf[t.charCodeAt(e+3)],u[s++]=i>>16&255,u[s++]=i>>8&255,u[s++]=255&i;return 2===o?(i=bf[t.charCodeAt(e)]<<2|bf[t.charCodeAt(e+1)]>>4,u[s++]=255&i):1===o&&(i=bf[t.charCodeAt(e)]<<10|bf[t.charCodeAt(e+1)]<<4|bf[t.charCodeAt(e+2)]>>2,u[s++]=i>>8&255,u[s++]=255&i),u}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(cl,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function pl(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function dl(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}const vl={return:yl,double:t=>gl("double",t),float:t=>gl("float",t),sInt32:t=>gl("sint32",t),sInt64:t=>gl("sint64",t),uInt32:t=>gl("uint32",t),uInt64:t=>gl("uint64",t),bool:t=>gl("bool",t),string:t=>gl("string",t),bytes:t=>gl("bytes",t),class:ml,enum:_l,tuple:jl,list:wl,set:El,dictionary:bl,0:()=>null,1:t=>gl("double",t),2:t=>gl("float",t),3:t=>gl("sint32",t),4:t=>gl("sint64",t),5:t=>gl("uint32",t),6:t=>gl("uint64",t),7:t=>gl("bool",t),8:t=>gl("string",t),9:t=>gl("bytes",t),100:ml,101:_l,200:function(t,e,r){return t=_f.Event.decode(t),r.getService("KRPC")._streamEvent(t.stream)},201:t=>_f.ProcedureCall.decode(t),202:t=>_f.Stream.decode(t),203:t=>_f.Status.decode(t),204:t=>_f.Services.decode(t),300:jl,301:wl,302:El,303:bl};function yl(t,e,r){if(void 0!==t&&e)return vl[e.code](t,e,r)}function gl(t,e){return vf.Reader.create(e)[t]()}function _l(t,e,r){return t=vl.sInt32(t),r.getEnum(e.service,e.name).values[t]}function ml(t,e,r){if(0===(t=vl.uInt64(t)))return;let n=r.getClass(e.service,e.name),i=n.Instances[t];return i||new n(t)}function bl(t,e,r){t=_f.Dictionary.decode(t).entries;let n={};for(let i of t){n[vl.return(i.key,e.types[0],r)]=vl.return(i.value,e.types[1],r)}return n}function wl(t,e,r){return(t=_f.List.decode(t).items).map((t=>vl.return(t,e.types[0],r)))}function El(t,e,r){return(t=_f.Set.decode(t).items).map((t=>vl.return(t,e.types[0],r)))}function jl(t,e,r){return(t=_f.Tuple.decode(t).items).map(((t,n)=>vl.return(t,e.types[n],r)))}const Sl={argument:Al,double:t=>Rl("double",t),float:t=>Rl("float",t),sInt32:t=>Rl("sint32",t),sInt64:t=>Rl("sint64",t),uInt32:t=>Rl("uint32",t),uInt64:t=>Rl("uint64",t),bool:t=>Rl("bool",t),string:t=>Rl("string",t),bytes:t=>Rl("bytes",t),class:Ol,enum:xl,tuple:Tl,list:kl,set:Pl,dictionary:Il,0:()=>null,1:t=>Rl("double",t),2:t=>Rl("float",t),3:t=>Rl("sint32",t),4:t=>Rl("sint64",t),5:t=>Rl("uint32",t),6:t=>Rl("uint64",t),7:t=>Rl("bool",t),8:t=>Rl("string",t),9:t=>Rl("bytes",t),100:Ol,101:xl,200:t=>_f.Event.encode(t).finish(),201:t=>_f.ProcedureCall.encode(t).finish(),202:t=>_f.Stream.encode(t).finish(),203:t=>_f.Status.encode(t).finish(),204:t=>_f.Services.encode(t).finish(),300:Tl,301:kl,302:Pl,303:Il};function Al(t,e,r){if(void 0===t){if(e.defaultValue)return Tf.from(e.defaultValue,"base64");throw new Error("Missing argument")}return Sl[e.type.code](t,e,r)}function Rl(t,e){return vf.Writer.create()[t](e).finish()}function xl(t,e,r){let n=r.getEnum(e.type.service,e.type.name);if("string"==typeof t)t=n.names[t];else if("number"!=typeof t)throw new Error("Enum value '"+t+"' not of any compatible type");if(void 0===t)throw new Error("Unable to encode enum, no value found");return Sl.sInt32(t)}function Ol(t){return Sl.uInt64(t.id)}function Il(t,e,r){let n=[];for(let i in t){let o=Sl.argument(i,{type:e.type.types[0]},r),u=Sl.argument(t[i],{type:e.type.types[1]},r);n.push({key:o,value:u})}return n=n.map((t=>_f.DictionaryEntry.create(t))),_f.Dictionary.encode({entries:n})}function kl(t,e,r){let n=t.map((t=>Sl.argument(t,{type:e.type.types[0]},r)));return _f.List.encode({items:n})}function Pl(t,e,r){let n=t.map((t=>Sl.argument(t,{type:e.type.types[0]},r)));return _f.Set.encode({items:n})}function Tl(t,e,r){let n=e.type.types.map(((e,n)=>Sl.argument(t[n],{type:e},r)));return _f.Tuple.encode({items:n})}const Cl=[];function Ml(t,e,r){return r=r.map(((t,e)=>_f.Argument.create({position:e,value:t}))),_f.ProcedureCall.create({service:t,procedure:e,arguments:r})}class Bl{static getService(t){return Cl[t]}static getException(t,e){return Bl.getService(t).exceptions[e]}static getEnum(t,e){return Bl.getService(t).enums[e]}static getClass(t,e){return Bl.getService(t).classes[e]}static getCall(t,e){return Bl.getService(t).calls[e]}static getProcedure(t,e){return Bl.getService(t).procedures[e]}constructor(t,e,r,n){this.name=t.name,this.documentation=t.documentation,this._sendCall=e,this._streamCall=r,this._streamEvent=n,this._streamCache={},Cl[this.name]=this,this.exceptions={},t.exceptions.forEach((t=>this._addException(t))),this.enums={},t.enumerations.forEach((t=>this._addEnum(t))),this.classes={},t.classes.forEach((t=>this._addClass(t))),this.calls={},this.procedures={},t.procedures.forEach((t=>this._addProcedure(t))),Object.values(this.classes).forEach((t=>this._addClassProperties(t))),this._addServiceProperties()}stream(t,e){let r=this._streams[t](this);return this._streamCall(r,(r=>{this._streamCache[t]=r,"function"==typeof e&&e(r)}),(()=>{delete this._streamCache[t]}))}_addProperties(t,e,r,n){let i={};e.forEach((t=>{let e=t.split("_").pop();i[e]=t}));let o={};r.forEach((t=>{let e=t.split("_").pop();o[e]=o[e]||{},o[e].get=t})),n.forEach((t=>{let e=t.split("_").pop();o[e]=o[e]||{},o[e].set=t})),Object.keys(i).forEach((e=>{let r=i[e],n=this.procedures[r];t[Sn(e)]=async function(...t){return this instanceof Bl?n(...t):await n(this,...t)}})),Object.keys(o).forEach((e=>{let{get:r,set:n}=o[e],i={};if(r){let n=this.procedures[r];t._streams[Sn(e)]=this.calls[r],i.get=function(){return void 0!==this._streamCache[Sn(e)]?Promise.resolve(this._streamCache[Sn(e)]):this instanceof Bl?n():n(this)}}if(n){let t=this.procedures[n];i.set=function(e){return this instanceof Bl?t(e):t(this,e)}}Object.defineProperty(t,Sn(e),i)}))}_addStatics(t,e){let r={};e.forEach((t=>{let e=t.split("_").pop();r[e]=t})),Object.keys(r).forEach((e=>{let n=r[e],i=this.procedures[n];t[e]=function(...t){return i(...t)}}))}_addClass(t){let e=this._streamCall;this.classes[t.name]=class t{constructor(e){if(t.Instances[e])return t.Instances[e];t.Instances[e]=this,this.id=e,this.className=t.Name,this.classDocumentation=t.Documentation,this._streamCache={}}stream(t,r){let n=this._streams[t](this);return e(n,(e=>{this._streamCache[t]=e,"function"==typeof r&&r(e)}),(()=>{delete this._streamCache[t]}))}},this.classes[t.name].Name=t.name,this.classes[t.name].Documentation=t.documentation,this.classes[t.name].Instances=[],this[t.name]=this.classes[t.name]}_addClassProperties(t){let e=Object.keys(this.procedures).filter((e=>0===e.indexOf(t.Name)&&-1===e.indexOf("_get_")&&-1===e.indexOf("_set_")&&-1===e.indexOf("_static_"))),r=Object.keys(this.procedures).filter((e=>0===e.indexOf(t.Name+"_get_"))),n=Object.keys(this.procedures).filter((e=>0===e.indexOf(t.Name+"_set_"))),i=Object.keys(this.procedures).filter((e=>0===e.indexOf(t.Name+"_static_")));t.prototype._streams={},this._addProperties(t.prototype,e,r,n),this._addStatics(t,i)}_addServiceProperties(){let t=Object.keys(this.procedures).filter((t=>-1===t.indexOf("_"))),e=Object.keys(this.procedures).filter((t=>0===t.indexOf("get_"))),r=Object.keys(this.procedures).filter((t=>0===t.indexOf("set_")));this._streams={},this._addProperties(this,t,e,r)}_addEnum(t){let e={},r={},n={},i={};t.values.forEach(((t,o)=>{void 0!==t.value?(e[t.name]=t.value,r[t.value]=t.name,n[t.name]=t.value):(e[t.name]=o,r[o]=t.name,n[t.name]=o),i[t.name]=t.documentation})),n.names=e,n.values=r,n.documentations=i,n.name=t.name,n.documentation=t.documentation,this.enums[t.name]=n,this[t.name]=n}_addException(t){this.exceptions[t.name]=function(){this.name=t.name,this.message=t.documentation},this.exceptions[t.name].prototype=Error.prototype,this[t.name]=this.exceptions[t.name]}_addProcedure(t){this.calls[t.name]=(...e)=>{let r=[];return t.parameters.forEach(((t,n)=>{r[n]=Al(e[n],t,Bl)})),{call:Ml(this.name,t.name,r),decode:e=>yl(e,t.returnType,Bl)}},this.procedures[t.name]=(...e)=>this._sendCall(this.calls[t.name](...e)).then((t=>{if(t.error||t.results[0].error)throw t.error||t.results[0].error;return t.results[0].value})),this.procedures[t.name].documentation=t.documentation}}function Ul(t,e,r){return r=r.map(((t,e)=>_f.Argument.create({position:e,value:t}))),_f.ProcedureCall.create({service:t,procedure:e,arguments:r})}function Ll(){return{call:Ul("KRPC","GetClientID",[]),decode:t=>vl.bytes(t)}}function Wl(){return{call:Ul("KRPC","GetServices",[]),decode:t=>_f.Services.decode(t)}}function Dl(t,e){return{call:Ul("KRPC","SetStreamRate",[Sl.uInt64(t),Sl.float(e)]),decode:null}}function Nl(t){return{call:Ul("KRPC","RemoveStream",[Sl.uInt64(t)]),decode:null}}var zl=Object.freeze({__proto__:null,getClientId:Ll,getStatus:function(){return{call:Ul("KRPC","GetStatus",[]),decode:t=>_f.Status.decode(t)}},getServices:Wl,addStream:function(t){return{call:Ul("KRPC","AddStream",[{buffer:_f.ProcedureCall.encode(t).finish()}]),decode:t=>_f.Stream.decode(t)}},setStreamRate:Dl,removeStream:Nl,getClients:function(){return{call:Ul("KRPC","get_Clients",[]),decode:t=>_f.List.decode(t).items.map((t=>((t=_f.Tuple.decode(t).items)[0]=vl.bytes(t[0]),t[1]=vl.string(t[1]),t[2]=vl.string(t[2]),t)))}},getCurrentGameScene:function(){return{call:Ul("KRPC","get_CurrentGameScene",[]),decode:t=>({0:"SpaceCenter",1:"Flight",2:"TrackingStation",3:"EditorVAB",4:"EditorSPH"}[t=vl.sInt32(t)])}}});const Fl={name:"krpc.js",host:"127.0.0.1",rpcPort:5e4,streamPort:50001,streamRate:0,wsOptions:{},wsProtocols:[],closeOnConnectionError:!0};class Yl{constructor(t){this.options={...Fl,...t},this.callbackStack=[],this.decodeStack=[],this.rpcSocket=null,this.streamSocket=null,this.services={krpcLegacy:zl},this.streams={}}async load(){return await _f.load(),await this.connectToRPCServer(),await this.connectToStreamServer(),await this.createServices(),this}close(){for(this.rpcSocket.close(),this.streamSocket&&this.streamSocket.close();this.callbackStack.length;)this.callbackStack.pop().reject("Connection closed.");this.decodeStack=[],this.streams={}}connectToRPCServer(){return new Promise(((e,r)=>{const n="ws://"+this.options.host+":"+this.options.rpcPort.toString()+"?name="+this.options.name;this.rpcSocket=new t(n,this.options.wsProtocols,this.options.wsOptions),this.rpcSocket.binaryType="arraybuffer",this.rpcSocket.addEventListener("error",(t=>{r(t.error),console.error("Received rpcSocket error event:",t),this.options.failOnConnectionError&&this.close()})),this.rpcSocket.addEventListener("close",(t=>{const e=`RPC connection close: ${t.code} ${t.reason}`;r(new Error(e)),this.close(),console.error(e)})),this.rpcSocket.addEventListener("message",(t=>{try{this.onMessage(t.data)}catch(t){this.onMessageError(t),r(t)}})),this.rpcSocket.addEventListener("open",(async()=>{const t=await this.send(Ll());this.clientId=t.results[0].value.toString("base64"),e(this.clientId)}),{once:!0})}))}connectToStreamServer(){return new Promise(((e,r)=>{const n="ws://"+this.options.host+":"+this.options.streamPort.toString()+"?id="+this.clientId;this.streamSocket=new t(n,this.options.wsProtocols,this.options.wsOptions),this.streamSocket.binaryType="arraybuffer",this.streamSocket.addEventListener("error",(t=>{r(t.error),console.error("Received streamSocket error event:",t),this.options.failOnConnectionError&&this.close()})),this.streamSocket.addEventListener("close",(t=>console.warn("Stream connection close:",t))),this.streamSocket.addEventListener("message",(t=>{try{this.onStreamMessage(t.data)}catch(t){r(),console.error("Unexpected exception processing Stream-Message:",t)}})),this.streamSocket.addEventListener("open",e,{once:!0})}))}async createServices(){(await this.send(Wl())).results[0].value.services.map((t=>new Bl(t,(t=>this.send(t)),((t,e,r)=>this.addStream(t,e,r)),(t=>this.addEvent(t))))).forEach((t=>{this.services[Sn(t.name)]=t}))}decodeMessage(t,e){t=Tf.from(t);try{return e.decode(t)}catch(e){let r;try{r=_f.Error.decode(t)}catch(n){try{r=t.toString("utf-8")}catch(t){r="Error parsing binary data :"+t.message,r=e.message+"\n"+r+"\n"+e.decoded}}return console.error(e,r),this.onMessageError(r)}}onMessage(t){const e=this.decodeMessage(t,_f.Response);if(e){if(e.error)return this.onMessageError(e.error);if(e.results.forEach((t=>{const e=this.decodeStack.pop();if(void 0===e)throw new Error("Decode stack misalignment!");t.error||"function"!=typeof e||(t.value=e(Tf.from(t.value)))})),this.callbackStack.length>0){return this.callbackStack.pop().resolve(e)}}}onMessageError(t){if(console.error("Message Error",t),this.decodeStack.pop(),this.callbackStack.length>0){return this.callbackStack.pop().reject(t)}}onStreamMessage(t){const e=this.decodeMessage(t,_f.StreamUpdate);e&&0!==Object.keys(this.streams).length&&e.results.forEach((t=>{if(t.result.error)return;const e=this.streams[t.id.toString()];if(!e)return void console.error("Received invalid stream id",t.id);const r=e.decode(t.result.value);e.callbacks.forEach((t=>{try{t(r)}catch(t){console.error(t)}}))}))}async send(t){return await this.sendRequest(t)}sendRequest(t){if(!t)throw new Error("The calls argument must be provided when calling sendRequest");if("object"!=typeof t)throw new Error("The calls argument must either be an object or an array of objects when calling sendRequest");t instanceof Array||(t=[t]);const e=[];t.forEach((t=>{if(void 0===t.call)throw new Error("Each call added must have both a call and decode property, missing call");if(void 0===t.decode)throw new Error("Each call added must have both a call and decode property, missing decode");this.decodeStack.splice(0,0,t.decode),e.push(t.call)}));const r=_f.Request.create({calls:e}),n=_f.Request.encode(r).finish(),i={resolve:()=>console.error("Callbacks not ready!"),reject:()=>console.error("Callbacks not ready!")};return this.callbackStack.splice(0,0,i),this.rpcSocket.send(n),new Promise(((t,e)=>{i.resolve=t,i.reject=e}))}async addStream(t,e,r){if(t instanceof Array)throw new Error("You can only pass one procedure call to `client.addStream` at a time.");if(!t.call)throw new Error("Procedure must have a call property on it.");const n=await this.services.krpc.addStream(t.call);for(;this.streams[n.id.toString()]&&this.streams[n.id.toString()].invalid;)await this.removeStream(this.streams[n.id.toString()]),n=await this.services.krpc.addStream(t.call);if(n.error)throw n.error;return this.registerStream(t,n,e,r)}registerStream(t,e,r,n){let i=this.streams[e.id.toString()];i&&!i.invalid||(i={callbacks:[],removeCallbacks:[],decode:t.decode,id:e.id,remove:()=>this.removeStream(i),setRate:t=>this.setStreamRate(i,t)},0!==this.options.streamRate&&i.setRate(this.options.streamRate)),r&&(this.send(t).then((t=>t.results[0].value)).then(r),i.callbacks.push(r)),n&&i.removeCallbacks.push(n),this.streams[e.id.toString()]=i;const o={call:t.call,stream:i,handler:r,remove:()=>{o.invalid=!0,o.stream.callbacks=o.stream.callbacks.filter((t=>t!==o.handler)),o.stream.callbacks.length||o.stream.remove()}};return o}async addEvent(t){let e=this.streams[t.id.toString()];e&&!e.invalid||(e={callbacks:[],removeCallbacks:[],decode:()=>{},id:t.id,remove:()=>this.removeStream(e),setRate:t=>this.setStreamRate(e,t)},0!==this.options.streamRate&&e.setRate(this.options.streamRate));const r=[],n=()=>{for(const t of r)try{t()}catch(t){console.error(t)}};e.callbacks.push(n),this.streams[t.id.toString()]=e;const i={started:!1,stream:e,handlers:r,listen:async e=>("function"==typeof e&&i.handlers.push(e),this.services.krpc.startStream(t.id).then((()=>{i.started=!0}))),remove:()=>{i.invalid=!0,i.stream.callbacks=i.stream.callbacks.filter((t=>t!==n)),i.stream.callbacks.length||i.stream.remove()}};return i}async setStreamRate(t,e){const r=Dl(t.id,e),n=await this.send(r);if(n.error)throw new Error(n.error);const i=n.results[0];if(i.error)throw new Error(i.error)}async removeStream(t){t.invalid=!0,t.callbacks=[],t.removeCallbacks.forEach((t=>{try{t()}catch(t){console.error(t)}})),t.removeCallbacks=[];const e=Nl(t.id),r=await this.send(e);if(r.error)throw new Error(r.error);const n=r.results[0];if(n.error)throw new Error(n.error)}}export{Yl as default};
//# sourceMappingURL=KRPC.js.map
